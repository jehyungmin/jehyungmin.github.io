
function whichTransitionEvent(){var t,el=document.createElement("fakeelement"),transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in transitions)if(void 0!==el.style[t])return transitions[t]}"document"in self&&("classList"in document.createElement("_")?function(){"use strict";var testElement=document.createElement("_");if(testElement.classList.add("c1","c2"),!testElement.classList.contains("c2")){var createMethod=function(method){var original=DOMTokenList.prototype[method];DOMTokenList.prototype[method]=function(token){var i,len=arguments.length;for(i=0;i<len;i++)token=arguments[i],original.call(this,token)}};createMethod("add"),createMethod("remove")}if(testElement.classList.toggle("c3",!1),testElement.classList.contains("c3")){var _toggle=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(token,force){return 1 in arguments&&!this.contains(token)==!force?force:_toggle.call(this,token)}}testElement=null}():function(view){"use strict";if("Element"in view){var elemCtrProto=view.Element.prototype,objCtr=Object,strTrim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},arrIndexOf=Array.prototype.indexOf||function(item){for(var i=0,len=this.length;i<len;i++)if(i in this&&this[i]===item)return i;return-1},DOMEx=function(type,message){this.name=type,this.code=DOMException[type],this.message=message},checkTokenAndGetIndex=function(classList,token){if(""===token)throw new DOMEx("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(token))throw new DOMEx("INVALID_CHARACTER_ERR","String contains an invalid character");return arrIndexOf.call(classList,token)},ClassList=function(elem){for(var trimmedClasses=strTrim.call(elem.getAttribute("class")||""),classes=trimmedClasses?trimmedClasses.split(/\s+/):[],i=0,len=classes.length;i<len;i++)this.push(classes[i]);this._updateClassName=function(){elem.setAttribute("class",this.toString())}},classListProto=ClassList.prototype=[],classListGetter=function(){return new ClassList(this)};if(DOMEx.prototype=Error.prototype,classListProto.item=function(i){return this[i]||null},classListProto.contains=function(token){return token+="",-1!==checkTokenAndGetIndex(this,token)},classListProto.add=function(){var token,tokens=arguments,i=0,l=tokens.length,updated=!1;do{token=tokens[i]+"",-1===checkTokenAndGetIndex(this,token)&&(this.push(token),updated=!0)}while(++i<l);updated&&this._updateClassName()},classListProto.remove=function(){var token,index,tokens=arguments,i=0,l=tokens.length,updated=!1;do{for(token=tokens[i]+"",index=checkTokenAndGetIndex(this,token);-1!==index;)this.splice(index,1),updated=!0,index=checkTokenAndGetIndex(this,token)}while(++i<l);updated&&this._updateClassName()},classListProto.toggle=function(token,force){token+="";var result=this.contains(token),method=result?!0!==force&&"remove":!1!==force&&"add";return method&&this[method](token),!0===force||!1===force?force:!result},classListProto.toString=function(){return this.join(" ")},objCtr.defineProperty){var classListPropDesc={get:classListGetter,enumerable:!0,configurable:!0};try{objCtr.defineProperty(elemCtrProto,"classList",classListPropDesc)}catch(ex){-2146823252===ex.number&&(classListPropDesc.enumerable=!1,objCtr.defineProperty(elemCtrProto,"classList",classListPropDesc))}}else objCtr.prototype.__defineGetter__&&elemCtrProto.__defineGetter__("classList",classListGetter)}}(self)),function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,o,a){function h(t,e,n){var s,o="$()."+i+'("'+e+'")';return t.each(function(t,h){var l=a.data(h,i);if(!l)return void r(i+" not initialized. Cannot call methods, i.e. "+o);var c=l[e];if(!c||"_"==e.charAt(0))return void r(o+" is not a valid method");var d=c.apply(l,n);s=void 0===s?d:s}),void 0!==s?s:t}function l(t,e){t.each(function(t,n){var s=a.data(n,i);s?(s.option(e),s._init()):(s=new o(n,e),a.data(n,i,s))})}(a=a||e||t.jQuery)&&(o.prototype.option||(o.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){if("string"==typeof t){return h(this,t,s.call(arguments,1))}return l(this,t),this},n(a))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var s=Array.prototype.slice,o=t.console,r=void 0===o?function(){}:function(t){o.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],s=0;s<i.length;s++){var o=i[s];n&&n[o]&&(this.off(t,o),delete n[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<l;e++){t[h[e]]=0}return t}function n(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function s(){if(!c){c=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var s=n(e);o.isBoxSizeOuter=r=200==t(s.width),i.removeChild(e)}}function o(e){if(s(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var o=n(e);if("none"==o.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var c=a.isBorderBox="border-box"==o.boxSizing,d=0;d<l;d++){var u=h[d],f=o[u],p=parseFloat(f);a[u]=isNaN(p)?0:p}var v=a.paddingLeft+a.paddingRight,g=a.paddingTop+a.paddingBottom,m=a.marginLeft+a.marginRight,y=a.marginTop+a.marginBottom,E=a.borderLeftWidth+a.borderRightWidth,S=a.borderTopWidth+a.borderBottomWidth,b=c&&r,x=t(o.width);!1!==x&&(a.width=x+(b?0:v+E));var C=t(o.height);return!1!==C&&(a.height=C+(b?0:g+S)),a.innerWidth=a.width-(v+E),a.innerHeight=a.height-(g+S),a.outerWidth=a.width+m,a.outerHeight=a.height+y,a}}var r,a="undefined"==typeof console?e:function(t){console.error(t)},h=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],l=h.length,c=!1;return o}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],s=n+"MatchesSelector";if(t[s])return s}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"object"==typeof t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var s=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void s.push(t);e(t,n)&&s.push(t);for(var i=t.querySelectorAll(n),o=0;o<i.length;o++)s.push(i[o])}}),s},i.debounceMethod=function(t,e,i){var n=t.prototype[e],s=e+"Timeout";t.prototype[e]=function(){var t=this[s];t&&clearTimeout(t);var e=arguments,o=this;this[s]=setTimeout(function(){n.apply(o,e),delete o[s]},i||100)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,s){i.docReady(function(){var o=i.toDashed(s),r="data-"+o,a=document.querySelectorAll("["+r+"]"),h=document.querySelectorAll(".js-"+o),l=i.makeArray(a).concat(i.makeArray(h)),c=r+"-options",d=t.jQuery;l.forEach(function(t){var i,o=t.getAttribute(r)||t.getAttribute(c);try{i=o&&JSON.parse(o)}catch(a){return void(n&&n.error("Error parsing "+r+" on "+t.className+": "+a))}var h=new e(t,i);d&&d.data(t,s,h)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("get-size")):(t.Flickity=t.Flickity||{},t.Flickity.Cell=e(t,t.getSize))}(window,function(t,e){function i(t,e){this.element=t,this.parent=e,this.create()}var n=i.prototype;return n.create=function(){this.element.style.position="absolute",this.x=0,this.shift=0},n.destroy=function(){this.element.style.position="";var t=this.parent.originSide;this.element.style[t]=""},n.getSize=function(){this.size=e(this.element)},n.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},n.updateTarget=n.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},n.renderPosition=function(t){var e=this.parent.originSide;this.element.style[e]=this.parent.getPositionValue(t)},n.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},n.remove=function(){this.element.parentNode.removeChild(this.element)},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/slide",e):"object"==typeof module&&module.exports?module.exports=e():(t.Flickity=t.Flickity||{},t.Flickity.Slide=e())}(window,function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,n=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+n*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.changeSelectedClass("add")},e.unselect=function(){this.changeSelectedClass("remove")},e.changeSelectedClass=function(t){this.cells.forEach(function(e){e.element.classList[t]("is-selected")})},e.getCellElements=function(){return this.cells.map(function(t){return t.element})},t}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("fizzy-ui-utils")):(t.Flickity=t.Flickity||{},t.Flickity.animatePrototype=e(t,t.fizzyUIUtils))}(window,function(t,e){var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame,n=0;i||(i=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-n)),s=setTimeout(t,i);return n=e+i,s});var s={};s.startAnimation=function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},s.animate=function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;i(function(){e.animate()})}};var o=function(){return"string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform"}();return s.positionSlider=function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),t+=this.cursorPosition,t=this.options.rightToLeft&&o?-t:t;var i=this.getPositionValue(t);this.slider.style[o]=this.isAnimating?"translate3d("+i+",0,0)":"translateX("+i+")";var n=this.slides[0];if(n){var s=-this.x-n.target,r=s/this.slidesWidth;this.dispatchEvent("scroll",null,[r,s])}},s.positionSliderAtSelected=function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.positionSlider())},s.getPositionValue=function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},s.settle=function(t){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*t)||this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle"))},s.shiftWrapCells=function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},s._shiftCells=function(t,e,i){for(var n=0;n<t.length;n++){var s=t[n],o=e>0?i:0;s.wrapShift(o),e-=s.size.outerWidth}},s._unshiftCells=function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},s.integratePhysics=function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},s.applyForce=function(t){this.velocity+=t},s.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},s.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())},s.applyDragForce=function(){if(this.isPointerDown){var t=this.dragX-this.x,e=t-this.velocity;this.applyForce(e)}},s.applySelectedAttraction=function(){if(!this.isPointerDown&&!this.isFreeScrolling&&this.cells.length){var t=-1*this.selectedSlide.target-this.x,e=t*this.options.selectedAttraction;this.applyForce(e)}},s}),function(t,e){if("function"==typeof define&&define.amd)define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(i,n,s,o,r,a){return e(t,i,n,s,o,r,a)});else if("object"==typeof module&&module.exports)module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate"));else{var i=t.Flickity;t.Flickity=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,i.Cell,i.Slide,i.animatePrototype)}}(window,function(t,e,i,n,s,o,r){function a(t,e){for(t=n.makeArray(t);t.length;)e.appendChild(t.shift())}function h(t,e){var i=n.getQueryElement(t);if(!i)return void(d&&d.error("Bad element for Flickity: "+(i||t)));if(this.element=i,this.element.flickityGUID){var s=f[this.element.flickityGUID];return s.option(e),s}l&&(this.$element=l(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e),this._create()}var l=t.jQuery,c=t.getComputedStyle,d=t.console,u=0,f={};h.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},h.createMethods=[];var p=h.prototype;n.extend(p,e.prototype),p._create=function(){var e=this.guid=++u;this.element.flickityGUID=e,f[e]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&t.addEventListener("resize",this),h.createMethods.forEach(function(t){this[t]()},this),this.options.watchCSS?this.watchCSS():this.activate()},p.option=function(t){n.extend(this.options,t)},p.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize();a(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate");var e,i=this.options.initialIndex;e=this.isInitActivated?this.selectedIndex:void 0!==i&&this.cells[i]?i:0,this.select(e,!1,!0),this.isInitActivated=!0}},p._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},p._filterFindCellElements=function(t){return n.filterFindElements(t,this.options.cellSelector)},p.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},p._makeCells=function(t){return this._filterFindCellElements(t).map(function(t){return new s(t,this)},this)},p.getLastCell=function(){return this.cells[this.cells.length-1]},p.getLastSlide=function(){return this.slides[this.slides.length-1]},p.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},p._positionCells=function(t){t=t||0,this.maxCellHeight=t?this.maxCellHeight||0:0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var n=this.cells.length,s=t;s<n;s++){var o=this.cells[s];o.setPosition(e),e+=o.size.outerWidth,this.maxCellHeight=Math.max(o.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},p._sizeCells=function(t){t.forEach(function(t){t.getSize()})},p.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new o(this);this.slides.push(t);var e="left"==this.originSide,i=e?"marginRight":"marginLeft",n=this._getCanCellFit();this.cells.forEach(function(e,s){if(!t.cells.length)return void t.addCell(e);var r=t.outerWidth-t.firstMargin+(e.size.outerWidth-e.size[i]);n.call(this,s,r)?t.addCell(e):(t.updateTarget(),t=new o(this),this.slides.push(t),t.addCell(e))},this),t.updateTarget(),this.updateSelectedSlide()}},p._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!=0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),n=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*n}},p._init=p.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},p.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var v={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return p.setCellAlign=function(){var t=v[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},p.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},p._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},p._getGapCells=function(t,e,i){for(var n=[];t>0;){var s=this.cells[e];if(!s)break;n.push(s),e+=i,t-=s.size.outerWidth}return n},p._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[i],s=n<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[e],r=n-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(t){s?t.target=n*this.cellAlign:(t.target=Math.max(t.target,o),t.target=Math.min(t.target,r))},this)}},p.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),l&&this.$element){t+=this.options.namespaceJQueryEvents?".flickity":"";var s=t;if(e){var o=l.Event(e);o.type=t,s=o}this.$element.trigger(s,i)}},p.select=function(t,e,i){this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=n.modulo(t,this.slides.length)),this.slides[t]&&(this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select"),this.dispatchEvent("cellSelect")))},p._wrapSelect=function(t){var e=this.slides.length;if(!(this.options.wrapAround&&e>1))return t;var s=n.modulo(t,e),o=Math.abs(s-this.selectedIndex),r=Math.abs(s+e-this.selectedIndex),a=Math.abs(s-e-this.selectedIndex);!this.isDragSelect&&r<o?t+=e:!this.isDragSelect&&a<o&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},p.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},p.next=function(t,e){this.select(this.selectedIndex+1,t,e)},p.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},p.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},p.selectCell=function(t,e,i){var n;"number"==typeof t?n=this.cells[t]:("string"==typeof t&&(t=this.element.querySelector(t)),n=this.getCell(t));for(var s=0;n&&s<this.slides.length;s++){if(-1!=this.slides[s].cells.indexOf(n))return void this.select(s,e,i)}},p.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},p.getCells=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getCell(t);i&&e.push(i)},this),e},p.getCellElements=function(){return this.cells.map(function(t){return t.element})},p.getParentCell=function(t){var e=this.getCell(t);return e||(t=n.getParent(t,".flickity-slider > *"),this.getCell(t))},p.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();for(var s=[],o=e-t;o<=e+t;o++){var r=this.options.wrapAround?n.modulo(o,i):o,a=this.slides[r];a&&(s=s.concat(a.getCellElements()))}return s},p.uiChange=function(){this.emitEvent("uiChange")},p.childUIPointerDown=function(t){this.emitEvent("childUIPointerDown",[t])},p.onresize=function(){this.watchCSS(),this.resize()},n.debounceMethod(h,"onresize",150),p.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=n.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},p.watchCSS=function(){this.options.watchCSS&&(-1!=c(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},p.onkeydown=function(t){if(this.options.accessibility&&(!document.activeElement||document.activeElement==this.element))if(37==t.keyCode){var e=this.options.rightToLeft?"next":"previous";this.uiChange(),this[e]()}else if(39==t.keyCode){var i=this.options.rightToLeft?"previous":"next";this.uiChange(),this[i]()}},p.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.cells.forEach(function(t){t.destroy()}),this.unselectSelectedSlide(),this.element.removeChild(this.viewport),a(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},p.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.emitEvent("destroy"),l&&this.$element&&l.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete f[this.guid]},n.extend(p,r),h.data=function(t){t=n.getQueryElement(t);var e=t&&t.flickityGUID;return e&&f[e]},n.htmlInit(h,"flickity"),l&&l.bridget&&l.bridget("flickity",h),h.setJQuery=function(t){l=t},h.Cell=s,h}),function(t,e){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.Unipointer=e(t,t.EvEmitter)}(window,function(t,e){function i(){}function n(){}var s=n.prototype=Object.create(e.prototype);s.bindStartEvent=function(t){this._bindStartEvent(t,!0)},s.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},s._bindStartEvent=function(t,e){e=void 0===e||!!e;var i=e?"addEventListener":"removeEventListener";t[i]("mousedown",this),t[i]("touchstart",this)},s.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},s.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},s.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},s.onpointerdown=function(t){this._pointerDown(t,t)},s._pointerDown=function(t,e){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},s.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var o={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return s._bindPostStartEvents=function(e){if(e){var i=o[e.type];i.forEach(function(e){t.addEventListener(e,this)},this),this._boundPointerEvents=i}},s._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){t.removeEventListener(e,this)},this),delete this._boundPointerEvents)},s.onmousemove=function(t){this._pointerMove(t,t)},s.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},s.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},s._pointerMove=function(t,e){this.pointerMove(t,e)},s.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},s.onmouseup=function(t){this._pointerUp(t,t)},s.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},s.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},s._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},s.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},s._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},s.pointerDone=i,s.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},s.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},s._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},s.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},n.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},n}),function(t,e){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("unipointer")):t.Unidragger=e(t,t.Unipointer)}(window,function(t,e){function i(){}var n=i.prototype=Object.create(e.prototype);return n.bindHandles=function(){this._bindHandles(!0)},n.unbindHandles=function(){this._bindHandles(!1)},n._bindHandles=function(e){e=void 0===e||!!e;for(var i=e?"addEventListener":"removeEventListener",n=0;n<this.handles.length;n++){var s=this.handles[n];this._bindStartEvent(s,e),s[i]("click",this),t.PointerEvent&&(s.style.touchAction=e?this._touchActionValue:"")}},n._touchActionValue="none",n.pointerDown=function(t,e){if("INPUT"==t.target.nodeName&&"range"==t.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(t,e);var i=document.activeElement;i&&i.blur&&i.blur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])},n._dragPointerDown=function(t,i){this.pointerDownPoint=e.getPointerPoint(i),this.canPreventDefaultOnPointerDown(t,i)&&t.preventDefault()},n.canPreventDefaultOnPointerDown=function(t){return"SELECT"!=t.target.nodeName},n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},n._dragPointerMove=function(t,i){var n=e.getPointerPoint(i),s={x:n.x-this.pointerDownPoint.x,y:n.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(s)&&this._dragStart(t,i),s},n.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},n.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},n._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},n._dragStart=function(t,i){this.isDragging=!0,this.dragStartPoint=e.getPointerPoint(i),this.isPreventingClicks=!0,this.dragStart(t,i)},n.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},n._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},n.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},n._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},n.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},n.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},n._staticClick=function(t,e){if(!this.isIgnoringMouseUp||"mouseup"!=t.type){var i=t.target.nodeName;"INPUT"!=i&&"TEXTAREA"!=i||t.target.focus(),this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400))}},n.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},i.getPointerPoint=e.getPointerPoint,i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(i,n,s){return e(t,i,n,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):t.Flickity=e(t,t.Flickity,t.Unidragger,t.fizzyUIUtils)}(window,function(t,e,i,n){function s(t){var e=d[t.type],i=u[t.target.nodeName];return e||i}function o(){return{x:t.pageXOffset,y:t.pageYOffset}}n.extend(e.defaults,{draggable:!0,dragThreshold:3}),e.createMethods.push("_createDrag");var r=e.prototype;n.extend(r,i.prototype),
r._touchActionValue="pan-y";var a="createTouch"in document,h=!1;r._createDrag=function(){this.on("activate",this.bindDrag),this.on("uiChange",this._uiChangeDrag),this.on("childUIPointerDown",this._childUIPointerDownDrag),this.on("deactivate",this.unbindDrag),a&&!h&&(t.addEventListener("touchmove",function(){}),h=!0)},r.bindDrag=function(){this.options.draggable&&!this.isDragBound&&(this.element.classList.add("is-draggable"),this.handles=[this.viewport],this.bindHandles(),this.isDragBound=!0)},r.unbindDrag=function(){this.isDragBound&&(this.element.classList.remove("is-draggable"),this.unbindHandles(),delete this.isDragBound)},r._uiChangeDrag=function(){delete this.isFreeScrolling},r._childUIPointerDownDrag=function(t){t.preventDefault(),this.pointerDownFocus(t)};var l={TEXTAREA:!0,INPUT:!0,OPTION:!0},c={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};r.pointerDown=function(e,i){if(l[e.target.nodeName]&&!c[e.target.type])return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(e,i);var s=document.activeElement;s&&s.blur&&s!=this.element&&s!=document.body&&s.blur(),this.pointerDownFocus(e),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this._bindPostStartEvents(e),this.pointerDownScroll=o(),t.addEventListener("scroll",this),this.dispatchEvent("pointerDown",e,[i])},r.pointerDownFocus=function(e){var i=s(e);if(this.options.accessibility&&!i){var n=t.pageYOffset;this.element.focus(),t.pageYOffset!=n&&t.scrollTo(t.pageXOffset,n)}};var d={touchstart:!0,pointerdown:!0},u={INPUT:!0,SELECT:!0};return r.canPreventDefaultOnPointerDown=function(t){return!s(t)},r.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},r.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},r.pointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},r.dragStart=function(e,i){this.dragStartPosition=this.x,this.startAnimation(),t.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[i])},r.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},r.dragMove=function(t,e,i){t.preventDefault(),this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1,s=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.slides.length){var o=Math.max(-this.slides[0].target,this.dragStartPosition);s=s>o?.5*(s+o):s;var r=Math.min(-this.getLastSlide().target,this.dragStartPosition);s=s<r?.5*(s+r):s}this.dragX=s,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])},r.dragEnd=function(t,e){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])},r.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),n=this._getClosestResting(t,e,-1);return i.distance<n.distance?i.index:n.index},r._getClosestResting=function(t,e,i){for(var n=this.selectedIndex,s=1/0,o=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};o(e,s)&&(n+=i,s=e,null!==(e=this.getSlideDistance(-t,n)));)e=Math.abs(e);return{distance:s,index:n-i}},r.getSlideDistance=function(t,e){var i=this.slides.length,s=this.options.wrapAround&&i>1,o=s?n.modulo(e,i):e,r=this.slides[o];if(!r)return null;var a=s?this.slideableWidth*Math.floor(e/i):0;return t-(r.target+a)},r.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},r.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,s=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,n,s])},r.onscroll=function(){var t=o(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},e}),function(t,e){"function"==typeof define&&define.amd?define("tap-listener/tap-listener",["unipointer/unipointer"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("unipointer")):t.TapListener=e(t,t.Unipointer)}(window,function(t,e){function i(t){this.bindTap(t)}var n=i.prototype=Object.create(e.prototype);return n.bindTap=function(t){t&&(this.unbindTap(),this.tapElement=t,this._bindStartEvent(t,!0))},n.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)},n.pointerUp=function(i,n){if(!this.isIgnoringMouseUp||"mouseup"!=i.type){var s=e.getPointerPoint(n),o=this.tapElement.getBoundingClientRect(),r=t.pageXOffset,a=t.pageYOffset;if(s.x>=o.left+r&&s.x<=o.right+r&&s.y>=o.top+a&&s.y<=o.bottom+a&&this.emitEvent("tap",[i,n]),"mouseup"!=i.type){this.isIgnoringMouseUp=!0;var l=this;setTimeout(function(){delete l.isIgnoringMouseUp},400)}}},n.destroy=function(){this.pointerDone(),this.unbindTap()},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(i,n,s){return e(t,i,n,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):e(t,t.Flickity,t.TapListener,t.fizzyUIUtils)}(window,function(t,e,i,n){"use strict";function s(t,e){this.direction=t,this.parent=e,this._create()}function o(t){return"string"==typeof t?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z"}var r="http://www.w3.org/2000/svg";s.prototype=new i,s.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"previous":"next");var i=this.createSVG();e.appendChild(i),this.on("tap",this.onTap),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.bindTap(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},s.prototype.deactivate=function(){this.parent.element.removeChild(this.element),i.prototype.destroy.call(this),this.element.removeEventListener("click",this)},s.prototype.createSVG=function(){var t=document.createElementNS(r,"svg");t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(r,"path"),i=o(this.parent.options.arrowShape);return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft||e.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(e),t},s.prototype.onTap=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},s.prototype.handleEvent=n.handleEvent,s.prototype.onclick=function(){var t=document.activeElement;t&&t==this.element&&this.onTap()},s.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},s.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},s.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1)return void this.enable();var e=t.length?t.length-1:0,i=this.isPrevious?0:e;this[this.parent.selectedIndex==i?"disable":"enable"]()},s.prototype.destroy=function(){this.deactivate()},n.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var a=e.prototype;return a._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new s(-1,this),this.nextButton=new s(1,this),this.on("activate",this.activatePrevNextButtons))},a.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},a.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=s,e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(i,n,s){return e(t,i,n,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):e(t,t.Flickity,t.TapListener,t.fizzyUIUtils)}(window,function(t,e,i,n){function s(t){this.parent=t,this._create()}s.prototype=new i,s.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.on("tap",this.onTap),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.setDots(),this.bindTap(this.holder),this.parent.element.appendChild(this.holder)},s.prototype.deactivate=function(){this.parent.element.removeChild(this.holder),i.prototype.destroy.call(this)},s.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},s.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[];t;){var n=document.createElement("li");n.className="dot",e.appendChild(n),i.push(n),t--}this.holder.appendChild(e),this.dots=this.dots.concat(i)},s.prototype.removeDots=function(t){this.dots.splice(this.dots.length-t,t).forEach(function(t){this.holder.removeChild(t)},this)},s.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot"),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected")},s.prototype.onTap=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},s.prototype.destroy=function(){this.deactivate()},e.PageDots=s,n.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var o=e.prototype;return o._createPageDots=function(){this.options.pageDots&&(this.pageDots=new s(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},o.activatePageDots=function(){this.pageDots.activate()},o.updateSelectedPageDots=function(){this.pageDots.updateSelected()},o.updatePageDots=function(){this.pageDots.setDots()},o.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=s,e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],function(t,i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):e(t.EvEmitter,t.fizzyUIUtils,t.Flickity)}(window,function(t,e,i){function n(t){this.parent=t,this.state="stopped",o&&(this.onVisibilityChange=function(){this.visibilityChange()}.bind(this),this.onVisibilityPlay=function(){this.visibilityPlay()}.bind(this))}var s,o;"hidden"in document?(s="hidden",o="visibilitychange"):"webkitHidden"in document&&(s="webkitHidden",o="webkitvisibilitychange"),n.prototype=Object.create(t.prototype),n.prototype.play=function(){if("playing"!=this.state){var t=document[s];if(o&&t)return void document.addEventListener(o,this.onVisibilityPlay);this.state="playing",o&&document.addEventListener(o,this.onVisibilityChange),this.tick()}},n.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout(function(){e.parent.next(!0),e.tick()},t)}},n.prototype.stop=function(){this.state="stopped",this.clear(),o&&document.removeEventListener(o,this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){this[document[s]?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener(o,this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var r=i.prototype;return r._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},r.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},r.playPlayer=function(){this.player.play()},r.stopPlayer=function(){this.player.stop()},r.pausePlayer=function(){this.player.pause()},r.unpausePlayer=function(){this.player.unpause()},r.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},r.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},r.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=n,i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("fizzy-ui-utils")):e(t,t.Flickity,t.fizzyUIUtils)}(window,function(t,e,i){function n(t){var e=document.createDocumentFragment();return t.forEach(function(t){e.appendChild(t.element)}),e}var s=e.prototype;return s.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var s=this.cells.length;e=void 0===e?s:e;var o=n(i),r=e==s;if(r)this.slider.appendChild(o);else{var a=this.cells[e].element;this.slider.insertBefore(o,a)}if(0===e)this.cells=i.concat(this.cells);else if(r)this.cells=this.cells.concat(i);else{var h=this.cells.splice(e,s-e);this.cells=this.cells.concat(i).concat(h)}this._sizeCells(i);var l=e>this.selectedIndex?0:i.length;this._cellAddedRemoved(e,l)}},s.append=function(t){this.insert(t,this.cells.length)},s.prepend=function(t){this.insert(t,0)},s.remove=function(t){var e,n,s=this.getCells(t),o=0,r=s.length;for(e=0;e<r;e++){n=s[e];o-=this.cells.indexOf(n)<this.selectedIndex?1:0}for(e=0;e<r;e++)n=s[e],n.remove(),i.removeFrom(this.cells,n);s.length&&this._cellAddedRemoved(0,o)},s._cellAddedRemoved=function(t,e){e=e||0,this.selectedIndex+=e,this.selectedIndex=Math.max(0,Math.min(this.slides.length-1,this.selectedIndex)),this.cellChange(t,!0),this.emitEvent("cellAddedRemoved",[t,e])},s.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},s.cellChange=function(t,e){var i=this.slideableWidth;if(this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("cellChange",[t]),this.options.freeScroll){var n=i-this.slideableWidth;this.x+=n*this.cellAlign,this.positionSlider()}else e&&this.positionSliderAtSelected(),this.select(this.selectedIndex)},e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./flickity"),require("fizzy-ui-utils")):e(t,t.Flickity,t.fizzyUIUtils)}(window,function(t,e,i){"use strict";function n(t){if("IMG"==t.nodeName&&t.getAttribute("data-flickity-lazyload"))return[t];var e=t.querySelectorAll("img[data-flickity-lazyload]");return i.makeArray(e)}function s(t,e){this.img=t,this.flickity=e,this.load()}e.createMethods.push("_createLazyload");var o=e.prototype;return o._createLazyload=function(){this.on("select",this.lazyLoad)},o.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,i=this.getAdjacentCellElements(e),o=[];i.forEach(function(t){var e=n(t);o=o.concat(e)}),o.forEach(function(t){new s(t,this)},this)}},s.prototype.handleEvent=i.handleEvent,s.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.img.getAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload")},s.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},s.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},s.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),n=i&&i.element;this.flickity.cellSizeChange(n),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,n)},e.LazyLoader=s,e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}(window,function(t){return t}),function(t,e){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],e):"object"==typeof module&&module.exports?module.exports=e(require("flickity"),require("fizzy-ui-utils")):t.Flickity=e(t.Flickity,t.fizzyUIUtils)}(window,function(t,e){function i(t,e,i){return(e-t)*i+t}t.createMethods.push("_createAsNavFor");var n=t.prototype;return n._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var t=this.options.asNavFor;if(t){var e=this;setTimeout(function(){e.setNavCompanion(t)})}},n.setNavCompanion=function(i){i=e.getQueryElement(i);var n=t.data(i);if(n&&n!=this){this.navCompanion=n;var s=this;this.onNavCompanionSelect=function(){s.navCompanionSelect()},n.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0)}},n.navCompanionSelect=function(t){if(this.navCompanion){var e=this.navCompanion.selectedCells[0],n=this.navCompanion.cells.indexOf(e),s=n+this.navCompanion.selectedCells.length-1,o=Math.floor(i(n,s,this.navCompanion.cellAlign));if(this.selectCell(o,!1,t),this.removeNavSelectedElements(),!(o>=this.cells.length)){var r=this.cells.slice(n,s+1);this.navSelectedElements=r.map(function(t){return t.element}),this.changeNavSelectedClass("add")}}},n.changeNavSelectedClass=function(t){this.navSelectedElements.forEach(function(e){e.classList[t]("is-nav-selected")})},n.activateAsNavFor=function(){this.navCompanionSelect(!0)},n.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},n.onNavStaticClick=function(t,e,i,n){"number"==typeof n&&this.navCompanion.selectCell(n)},n.deactivateAsNavFor=function(){this.removeNavSelectedElements()},n.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function s(t,e,o){return this instanceof s?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=n(t),this.options=i({},this.options),"function"==typeof e?o=e:i(this.options,e),o&&this.on("always",o),this.getImages(),a&&(this.jqDeferred=new a.Deferred),void setTimeout(function(){this.check()}.bind(this))):new s(t,e,o)}function o(t){this.img=t}function r(t,e){this.url=t,this.element=e,this.img=new Image}var a=t.jQuery,h=t.console;s.prototype=Object.create(e.prototype),s.prototype.options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&l[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var s=i[n];this.addImage(s)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(n=0;n<o.length;n++){var r=o[n];this.addElementBackgroundImages(r)}}}};var l={1:!0,9:!0,11:!0};return s.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var s=n&&n[2];s&&this.addBackground(s,t),n=i.exec(e.backgroundImage)}},s.prototype.addImage=function(t){var e=new o(t);this.images.push(e)},s.prototype.addBackground=function(t,e){var i=new r(t,e);this.images.push(i)},s.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},s.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&h&&h.log("progress: "+i,t,e)},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},o.prototype=Object.create(e.prototype),o.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},o.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},o.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},o.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype=Object.create(o.prototype),r.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},r.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},s.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&(a=e,a.fn.imagesLoaded=function(t,e){return new s(this,t,e).jqDeferred.promise(a(this))})},s.makeJQueryPlugin(),s}),function(t,e){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("flickity"),require("imagesloaded")):t.Flickity=e(t,t.Flickity,t.imagesLoaded)}(window,function(t,e,i){"use strict";e.createMethods.push("_createImagesLoaded");var n=e.prototype;return n._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},n.imagesLoaded=function(){function t(t,i){var n=e.getParentCell(i.img);e.cellSizeChange(n&&n.element),e.options.freeScroll||e.positionSliderAtSelected()}if(this.options.imagesLoaded){var e=this;i(this.slider).on("progress",t)}},e}),function(){"use strict";function l(a){g.push(a),1==g.length&&f()}function m(){for(;g.length;)g[0](),g.shift()}function n(a){this.a=p,this.b=void 0,this.f=[];var b=this;try{a(function(a){q(b,a)},function(a){r(b,a)})}catch(c){r(b,c)}}function t(a){return new n(function(b,c){c(a)})}function u(a){return new n(function(b){b(a)})}function q(a,b){if(a.a==p){if(b==a)throw new TypeError;var c=!1;try{var d=b&&b.then;if(null!=b&&"object"==typeof b&&"function"==typeof d)return void d.call(b,function(b){c||q(a,b),c=!0},function(b){c||r(a,b),c=!0})}catch(e){return void(c||r(a,e))}a.a=0,a.b=b,v(a)}}function r(a,b){if(a.a==p){if(b==a)throw new TypeError;a.a=1,a.b=b,v(a)}}function v(a){l(function(){if(a.a!=p)for(;a.f.length;){var b=a.f.shift(),c=b[0],d=b[1],e=b[2],b=b[3];try{0==a.a?e("function"==typeof c?c.call(void 0,a.b):a.b):1==a.a&&("function"==typeof d?e(d.call(void 0,a.b)):b(a.b))}catch(h){b(h)}}})}function w(a){return new n(function(b,c){var e=0,h=[];0==a.length&&b(h);for(var k=0;k<a.length;k+=1)u(a[k]).c(function(c){return function(d){h[c]=d,(e+=1)==a.length&&b(h)}}(k),c)})}function x(a){return new n(function(b,c){for(var d=0;d<a.length;d+=1)u(a[d]).c(b,c)})}var f,g=[];f=function(){setTimeout(m)};var p=2;n.prototype.g=function(a){return this.c(void 0,a)},n.prototype.c=function(a,b){var c=this;return new n(function(d,e){c.f.push([a,b,d,e]),v(c)})},window.Promise||(window.Promise=n,window.Promise.resolve=u,window.Promise.reject=t,window.Promise.race=x,window.Promise.all=w,window.Promise.prototype.then=n.prototype.c,window.Promise.prototype.catch=n.prototype.g)}(),function(){function l(a,b){document.addEventListener?a.addEventListener("scroll",b,!1):a.attachEvent("scroll",b)}function m(a){document.body?a():document.addEventListener?document.addEventListener("DOMContentLoaded",function c(){document.removeEventListener("DOMContentLoaded",c),a()}):document.attachEvent("onreadystatechange",function k(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",k),a())})}function q(a){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(a)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function w(a,b){a.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font:"+b+";"}function x(a){var b=a.a.offsetWidth,c=b+100;return a.f.style.width=c+"px",a.c.scrollLeft=c,a.b.scrollLeft=a.b.scrollWidth+100,a.g!==b&&(a.g=b,!0)}function z(a,b){function c(){var a=k;x(a)&&null!==a.a.parentNode&&b(a.g)}var k=a;l(a.b,c),l(a.c,c),x(a)}function A(a,b){var c=b||{};this.family=a,this.style=c.style||"normal",this.weight=c.weight||"normal",this.stretch=c.stretch||"normal"}function H(){if(null===C){var a=document.createElement("div");try{a.style.font="condensed 100px sans-serif"}catch(b){}C=""!==a.style.font}return C}function I(a,b){return[a.style,a.weight,H()?a.stretch:"","100px",b].join(" ")}var B=null,C=null,D=null;A.prototype.load=function(a,b){var c=this,k=a||"BESbswy",y=b||3e3,E=(new Date).getTime();return new Promise(function(a,b){if(null===D&&(D=!!document.fonts),D){var J=new Promise(function(a,b){function e(){(new Date).getTime()-E>=y?b():document.fonts.load(I(c,'"'+c.family+'"'),k).then(function(c){1<=c.length?a():setTimeout(e,25)},function(){b()})}e()}),K=new Promise(function(a,c){setTimeout(c,y)});Promise.race([K,J]).then(function(){a(c)},function(){b(c)})}else m(function(){function r(){var b;(b=-1!=f&&-1!=g||-1!=f&&-1!=h||-1!=g&&-1!=h)&&((b=f!=g&&f!=h&&g!=h)||(null===B&&(b=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),B=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=B&&(f==t&&g==t&&h==t||f==u&&g==u&&h==u||f==v&&g==v&&h==v)),b=!b),b&&(null!==d.parentNode&&d.parentNode.removeChild(d),clearTimeout(G),a(c))}function F(){if((new Date).getTime()-E>=y)null!==d.parentNode&&d.parentNode.removeChild(d),b(c);else{var a=document.hidden;!0!==a&&void 0!==a||(f=e.a.offsetWidth,g=n.a.offsetWidth,h=p.a.offsetWidth,r()),G=setTimeout(F,50)}}var e=new q(k),n=new q(k),p=new q(k),f=-1,g=-1,h=-1,t=-1,u=-1,v=-1,d=document.createElement("div"),G=0;d.dir="ltr",w(e,I(c,"sans-serif")),w(n,I(c,"serif")),w(p,I(c,"monospace")),d.appendChild(e.a),d.appendChild(n.a),d.appendChild(p.a),document.body.appendChild(d),t=e.a.offsetWidth,u=n.a.offsetWidth,v=p.a.offsetWidth,F(),z(e,function(a){f=a,r()}),w(e,I(c,'"'+c.family+'",sans-serif')),z(n,function(a){g=a,r()}),w(n,I(c,'"'+c.family+'",serif')),z(p,function(a){h=a,r()}),w(p,I(c,'"'+c.family+'",monospace'))})})},"undefined"!=typeof module?module.exports=A:(window.FontFaceObserver=A,window.FontFaceObserver.prototype.load=A.prototype.load)}(),function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return!!Array.isArray(a)&&(g(a,c[b],c),!0)}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){
if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],(e=c?c+f:b)in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var c=a.options.inputClass;return new(c||(xa?M:ya?P:wa?R:L))(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e==0,g=b&(Ga|Ha)&&d-e==0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),ta=h(function(a,b){return sa(a,b,!0)},"merge","Use `assign`."),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa="ontouchstart"in a,xa=u(a,"PointerEvent")!==d,ya=wa&&va.test(navigator.userAgent),za="touch",Ba="mouse",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:"pen",4:Ba,5:"kinect"},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length==0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=function(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=!c||a.CSS.supports("touch-action",d)}),b}();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=32)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(32|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|32)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=32))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:32}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return 32},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=!this.pTime||a.timeStamp-this.pTime<b.interval,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;if(0===this.count%b.taps)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return 32},failTimeout:function(){return this._timer=e(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.8",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?2:1},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],2===b.stopped||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:32,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u}),(void 0!==a?a:"undefined"!=typeof self?self:{}).Hammer=ha,"function"==typeof define&&define.amd?define(function(){return ha}):"undefined"!=typeof module&&module.exports?module.exports=ha:a.Hammer=ha}(window,document),function(root,factory){"use strict";"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?module.exports=factory():root.Headroom=factory()}(this,function(){"use strict";function Debouncer(callback){this.callback=callback,this.ticking=!1}function isDOMElement(obj){return obj&&"undefined"!=typeof window&&(obj===window||obj.nodeType)}function extend(object){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var key,i,result=object||{};for(i=1;i<arguments.length;i++){var replacement=arguments[i]||{};for(key in replacement)"object"!=typeof result[key]||isDOMElement(result[key])?result[key]=result[key]||replacement[key]:result[key]=extend(result[key],replacement[key])}return result}function normalizeTolerance(t){return t===Object(t)?t:{down:t,up:t}}function Headroom(elem,options){options=extend(options,Headroom.options),this.lastKnownScrollY=0,this.elem=elem,this.tolerance=normalizeTolerance(options.tolerance),this.classes=options.classes,this.offset=options.offset,this.scroller=options.scroller,this.initialised=!1,this.changeBack=0,this.onPin=options.onPin,this.onUnpin=options.onUnpin,this.onTop=options.onTop,this.onNotTop=options.onNotTop,this.onBottom=options.onBottom,this.onNotBottom=options.onNotBottom}var features={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,Debouncer.prototype={constructor:Debouncer,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},Headroom.prototype={constructor:Headroom,init:function(){if(Headroom.cutsTheMustard)return document.documentElement.classList.contains("template-project")&&(this.changeBack=window.innerHeight),this.debouncer=new Debouncer(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var classes=this.classes;this.initialised=!1,this.elem.classList.remove(classes.unpinned,classes.pinned,classes.top,classes.notTop,classes.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var classList=this.elem.classList,classes=this.classes;!classList.contains(classes.pinned)&&classList.contains(classes.unpinned)||(classList.add(classes.unpinned),classList.remove(classes.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var classList=this.elem.classList,classes=this.classes;classList.contains(classes.unpinned)&&(classList.remove(classes.unpinned),classList.add(classes.pinned),this.onPin&&this.onPin.call(this))},top:function(){var classList=this.elem.classList,classes=this.classes;classList.contains(classes.top)||(classList.add(classes.top),classList.remove(classes.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var classList=this.elem.classList,classes=this.classes;classList.contains(classes.notTop)||(classList.add(classes.notTop),classList.remove(classes.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var classList=this.elem.classList,classes=this.classes;classList.contains(classes.bottom)||(classList.add(classes.bottom),classList.remove(classes.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var classList=this.elem.classList,classes=this.classes;classList.contains(classes.notBottom)||(classList.add(classes.notBottom),classList.remove(classes.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(elm){return Math.max(elm.offsetHeight,elm.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var body=document.body,documentElement=document.documentElement;return Math.max(body.scrollHeight,documentElement.scrollHeight,body.offsetHeight,documentElement.offsetHeight,body.clientHeight,documentElement.clientHeight)},getElementHeight:function(elm){return Math.max(elm.scrollHeight,elm.offsetHeight,elm.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(currentScrollY){var pastTop=currentScrollY<0,pastBottom=currentScrollY+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return pastTop||pastBottom},toleranceExceeded:function(currentScrollY,direction){return Math.abs(currentScrollY-this.lastKnownScrollY)>=this.tolerance[direction]},shouldUnpin:function(currentScrollY,toleranceExceeded){var scrollingDown=currentScrollY>this.lastKnownScrollY,pastOffset=currentScrollY>=this.offset;return scrollingDown&&pastOffset&&toleranceExceeded},shouldPin:function(currentScrollY,toleranceExceeded){var scrollingUp=currentScrollY<this.lastKnownScrollY,pastOffset=currentScrollY<=this.offset;return scrollingUp&&toleranceExceeded||pastOffset},update:function(){var currentScrollY=this.getScrollY(),scrollDirection=currentScrollY>this.lastKnownScrollY?"down":"up",toleranceExceeded=this.toleranceExceeded(currentScrollY,scrollDirection);this.isOutOfBounds(currentScrollY)||(currentScrollY<=this.changeBack?this.top():this.notTop(),currentScrollY+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(currentScrollY,toleranceExceeded)?this.unpin():this.shouldPin(currentScrollY,toleranceExceeded)&&this.pin(),this.lastKnownScrollY=currentScrollY)}},Headroom.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},Headroom.cutsTheMustard=void 0!==features&&features.rAF&&features.bind&&features.classList,Headroom}),function(a,b){var c=function(a,b){"use strict";if(b.getElementsByClassName){var c,d=b.documentElement,e=a.Date,f=a.HTMLPictureElement,g="addEventListener",h="getAttribute",i=a[g],j=a.setTimeout,k=a.requestAnimationFrame||j,l=a.requestIdleCallback,m=/^picture$/i,n=["load","error","lazyincluded","_lazyloaded"],o={},p=Array.prototype.forEach,q=function(a,b){return o[b]||(o[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),o[b].test(a[h]("class")||"")&&o[b]},r=function(a,b){q(a,b)||a.setAttribute("class",(a[h]("class")||"").trim()+" "+b)},s=function(a,b){var c;(c=q(a,b))&&a.setAttribute("class",(a[h]("class")||"").replace(c," "))},t=function(a,b,c){var d=c?g:"removeEventListener";c&&t(a,b),n.forEach(function(c){a[d](c,b)})},u=function(a,c,d,e,f){var g=b.createEvent("CustomEvent");return g.initCustomEvent(c,!e,!f,d||{}),a.dispatchEvent(g),g},v=function(b,d){var e;!f&&(e=a.picturefill||c.pf)?e({reevaluate:!0,elements:[b]}):d&&d.src&&(b.src=d.src)},w=function(a,b){return(getComputedStyle(a,null)||{})[b]},x=function(a,b,d){for(d=d||a.offsetWidth;d<c.minSize&&b&&!a._lazysizesWidth;)d=b.offsetWidth,b=b.parentNode;return d},y=function(){var a,c,d=[],e=function(){var b;for(a=!0,c=!1;d.length;)b=d.shift(),b[0].apply(b[1],b[2]);a=!1},f=function(f){a?f.apply(this,arguments):(d.push([f,this,arguments]),c||(c=!0,(b.hidden?j:k)(e)))};return f._lsFlush=e,f}(),z=function(a,b){return b?function(){y(a)}:function(){var b=this,c=arguments;y(function(){a.apply(b,c)})}},A=function(a){var b,c=0,g=666,h=function(){b=!1,c=e.now(),a()},i=l?function(){l(h,{timeout:g}),666!==g&&(g=666)}:z(function(){j(h)},!0);return function(a){var f;(a=!0===a)&&(g=44),b||(b=!0,f=125-(e.now()-c),0>f&&(f=0),a||9>f&&l?i():j(i,f))}},B=function(a){var b,c,f=function(){b=null,a()},g=function(){var a=e.now()-c;99>a?j(g,99-a):(l||f)(f)};return function(){c=e.now(),b||(b=j(g,99))}},C=function(){var f,k,l,n,o,x,C,E,F,G,H,I,J,K,L,M=/^img$/i,N=/^iframe$/i,O="onscroll"in a&&!/glebot/.test(navigator.userAgent),Q=0,R=0,S=-1,T=function(a){R--,a&&a.target&&t(a.target,T),(!a||0>R||!a.target)&&(R=0)},U=function(a,c){var e,f=a,g="hidden"==w(b.body,"visibility")||"hidden"!=w(a,"visibility");for(F-=c,I+=c,G-=c,H+=c;g&&(f=f.offsetParent)&&f!=b.body&&f!=d;)(g=(w(f,"opacity")||1)>0)&&"visible"!=w(f,"overflow")&&(e=f.getBoundingClientRect(),g=H>e.left&&G<e.right&&I>e.top-1&&F<e.bottom+1);return g},V=function(){var a,e,g,i,j,m,n,p,q;if((o=c.loadMode)&&8>R&&(a=f.length)){e=0,S++,null==K&&("expand"in c||(c.expand=d.clientHeight>500&&d.clientWidth>500?500:370),J=c.expand,K=J*c.expFactor),K>Q&&1>R&&S>2&&o>2&&!b.hidden?(Q=K,S=0):Q=o>1&&S>1&&6>R?J:0;for(;a>e;e++)if(f[e]&&!f[e]._lazyRace)if(O)if((p=f[e][h]("data-expand"))&&(m=1*p)||(m=Q),q!==m&&(C=innerWidth+m*L,E=innerHeight+m,n=-1*m,q=m),g=f[e].getBoundingClientRect(),(I=g.bottom)>=n&&(F=g.top)<=E&&(H=g.right)>=n*L&&(G=g.left)<=C&&(I||H||G||F)&&(l&&3>R&&!p&&(3>o||4>S)||U(f[e],m))){if(ba(f[e]),j=!0,R>9)break}else!j&&l&&!i&&4>R&&4>S&&o>2&&(k[0]||c.preloadAfterLoad)&&(k[0]||!p&&(I||H||G||F||"auto"!=f[e][h](c.sizesAttr)))&&(i=k[0]||f[e]);else ba(f[e]);i&&!j&&ba(i)}},W=A(V),X=function(a){r(a.target,c.loadedClass),s(a.target,c.loadingClass),t(a.target,Z)},Y=z(X),Z=function(a){Y({target:a.target})},$=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},_=function(a){var b,d,e=a[h](c.srcsetAttr);(b=c.customMedia[a[h]("data-media")||a[h]("media")])&&a.setAttribute("media",b),e&&a.setAttribute("srcset",e),b&&(d=a.parentNode,d.insertBefore(a.cloneNode(),a),d.removeChild(a))},aa=z(function(a,b,d,e,f){var g,i,k,l,o,q;(o=u(a,"lazybeforeunveil",b)).defaultPrevented||(e&&(d?r(a,c.autosizesClass):a.setAttribute("sizes",e)),i=a[h](c.srcsetAttr),g=a[h](c.srcAttr),f&&(k=a.parentNode,l=k&&m.test(k.nodeName||"")),q=b.firesLoad||"src"in a&&(i||g||l),o={target:a},q&&(t(a,T,!0),clearTimeout(n),n=j(T,2500),r(a,c.loadingClass),t(a,Z,!0)),l&&p.call(k.getElementsByTagName("source"),_),i?a.setAttribute("srcset",i):g&&!l&&(N.test(a.nodeName)?$(a,g):a.src=g),(i||l)&&v(a,{src:g})),y(function(){a._lazyRace&&delete a._lazyRace,s(a,c.lazyClass),(!q||a.complete)&&(q?T(o):R--,X(o))})}),ba=function(a){var b,d=M.test(a.nodeName),e=d&&(a[h](c.sizesAttr)||a[h]("sizes")),f="auto"==e;(!f&&l||!d||!a.src&&!a.srcset||a.complete||q(a,c.errorClass))&&(b=u(a,"lazyunveilread").detail,f&&D.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,R++,aa(a,b,f,e,d))},ca=function(){if(!l){if(e.now()-x<999)return void j(ca,999);var a=B(function(){c.loadMode=3,W()});l=!0,c.loadMode=3,W(),i("scroll",function(){3==c.loadMode&&(c.loadMode=2),a()},!0)}};return{_:function(){x=e.now(),f=b.getElementsByClassName(c.lazyClass),k=b.getElementsByClassName(c.lazyClass+" "+c.preloadClass),L=c.hFac,i("scroll",W,!0),i("resize",W,!0),a.MutationObserver?new MutationObserver(W).observe(d,{childList:!0,subtree:!0,attributes:!0}):(d[g]("DOMNodeInserted",W,!0),d[g]("DOMAttrModified",W,!0),setInterval(W,999)),i("hashchange",W,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(a){b[g](a,W,!0)}),/d$|^c/.test(b.readyState)?ca():(i("load",ca),b[g]("DOMContentLoaded",W),j(ca,2e4)),f.length?V():W()},checkElems:W,unveil:ba}}(),D=function(){var a,d=z(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),m.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;g>f;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||v(a,c.detail)}),e=function(a,b,c){var e,f=a.parentNode;f&&(c=x(a,f,c),e=u(a,"lazybeforesizes",{width:c,dataAttr:!!b}),e.defaultPrevented||(c=e.detail.width)&&c!==a._lazysizesWidth&&d(a,f,e,c))},f=function(){var b,c=a.length;if(c)for(b=0;c>b;b++)e(a[b])},g=B(f);return{_:function(){a=b.getElementsByClassName(c.autosizesClass),i("resize",g)},checkElems:g,updateElem:e}}(),E=function(){E.i||(E.i=!0,D._(),C._())};return function(){var b,d={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},
init:!0,expFactor:1.5,hFac:.8,loadMode:2};c=a.lazySizesConfig||a.lazysizesConfig||{};for(b in d)b in c||(c[b]=d[b]);a.lazySizesConfig=c,j(function(){c.init&&E()})}(),{cfg:c,autoSizer:D,loader:C,init:E,uP:v,aC:r,rC:s,hC:q,fire:u,gW:x,rAF:y}}}(a,a.document);a.lazySizes=c,"object"==typeof module&&module.exports&&(module.exports=c)}(window),function(window,document,undefined){"use strict";var polyfill,config=window.lazySizes&&lazySizes.cfg||window.lazySizesConfig,img=document.createElement("img"),supportSrcset="sizes"in img&&"srcset"in img,regHDesc=/\s+\d+h/g,fixEdgeHDescriptor=function(){var regDescriptors=/\s+(\d+)(w|h)\s+(\d+)(w|h)/,forEach=Array.prototype.forEach;return function(edgeMatch){var img=document.createElement("img"),removeHDescriptors=function(source){var ratio,srcset=source.getAttribute(lazySizesConfig.srcsetAttr);srcset&&(srcset.match(regDescriptors)&&(ratio="w"==RegExp.$2?RegExp.$1/RegExp.$3:RegExp.$3/RegExp.$1)&&source.setAttribute("data-aspectratio",ratio),source.setAttribute(lazySizesConfig.srcsetAttr,srcset.replace(regHDesc,"")))},handler=function(e){var picture=e.target.parentNode;picture&&"PICTURE"==picture.nodeName&&forEach.call(picture.getElementsByTagName("source"),removeHDescriptors),removeHDescriptors(e.target)},test=function(){img.currentSrc&&document.removeEventListener("lazybeforeunveil",handler)};edgeMatch[1]&&(document.addEventListener("lazybeforeunveil",handler),img.onload=test,img.onerror=test,img.srcset="data:,a 1w 1h",img.complete&&test())}}();if(config||(config={},window.lazySizesConfig=config),config.supportsType||(config.supportsType=function(type){return!type}),!window.picturefill&&!config.pf){if(window.HTMLPictureElement&&supportSrcset)return document.msElementsFromPoint&&fixEdgeHDescriptor(navigator.userAgent.match(/Edge\/(\d+)/)),void(config.pf=function(){});config.pf=function(options){var i,len;if(!window.picturefill)for(i=0,len=options.elements.length;i<len;i++)polyfill(options.elements[i])},polyfill=function(){var ascendingSort=function(a,b){return a.w-b.w},regPxLength=/^\s*\d+px\s*$/,reduceCandidate=function(srces){var lowerCandidate,bonusFactor,len=srces.length,candidate=srces[len-1],i=0;for(i;i<len;i++)if(candidate=srces[i],candidate.d=candidate.w/srces.w,candidate.d>=srces.d){!candidate.cached&&(lowerCandidate=srces[i-1])&&lowerCandidate.d>srces.d-.13*Math.pow(srces.d,2.2)&&(bonusFactor=Math.pow(lowerCandidate.d-.6,1.6),lowerCandidate.cached&&(lowerCandidate.d+=.15*bonusFactor),lowerCandidate.d+(candidate.d-srces.d)*bonusFactor>srces.d&&(candidate=lowerCandidate));break}return candidate},parseWsrcset=function(){var candidates,regWCandidates=/(([^,\s].[^\s]+)\s+(\d+)w)/g,regMultiple=/\s/,addCandidate=function(match,candidate,url,wDescriptor){candidates.push({c:candidate,u:url,w:1*wDescriptor})};return function(input){return candidates=[],input=input.trim(),input.replace(regHDesc,"").replace(regWCandidates,addCandidate),candidates.length||!input||regMultiple.test(input)||candidates.push({c:input,u:input,w:99}),candidates}}(),runMatchMedia=function(){runMatchMedia.init||(runMatchMedia.init=!0,addEventListener("resize",function(){var timer,matchMediaElems=document.getElementsByClassName("lazymatchmedia"),run=function(){var i,len;for(i=0,len=matchMediaElems.length;i<len;i++)polyfill(matchMediaElems[i])};return function(){clearTimeout(timer),timer=setTimeout(run,66)}}()))},createSrcset=function(elem,isImage){var parsedSet,srcSet=elem.getAttribute("srcset")||elem.getAttribute(config.srcsetAttr);!srcSet&&isImage&&(srcSet=elem._lazypolyfill?elem._lazypolyfill._set:elem.getAttribute(config.srcAttr)||elem.getAttribute("src")),elem._lazypolyfill&&elem._lazypolyfill._set==srcSet||(parsedSet=parseWsrcset(srcSet||""),isImage&&elem.parentNode&&(parsedSet.isPicture="PICTURE"==elem.parentNode.nodeName.toUpperCase(),parsedSet.isPicture&&window.matchMedia&&(lazySizes.aC(elem,"lazymatchmedia"),runMatchMedia())),parsedSet._set=srcSet,Object.defineProperty(elem,"_lazypolyfill",{value:parsedSet,writable:!0}))},getX=function(elem){var dpr=window.devicePixelRatio||1,optimum=lazySizes.getX&&lazySizes.getX(elem);return Math.min(optimum||dpr,2.5,dpr)},matchesMedia=function(media){return window.matchMedia?(matchesMedia=function(media){return!media||(matchMedia(media)||{}).matches})(media):!media},getCandidate=function(elem){var sources,i,len,source,srces,src,width;if(source=elem,createSrcset(source,!0),srces=source._lazypolyfill,srces.isPicture)for(i=0,sources=elem.parentNode.getElementsByTagName("source"),len=sources.length;i<len;i++)if(config.supportsType(sources[i].getAttribute("type"),elem)&&matchesMedia(sources[i].getAttribute("media"))){source=sources[i],createSrcset(source),srces=source._lazypolyfill;break}return srces.length>1?(width=source.getAttribute("sizes")||"",width=regPxLength.test(width)&&parseInt(width,10)||lazySizes.gW(elem,elem.parentNode),srces.d=getX(elem),!srces.src||!srces.w||srces.w<width?(srces.w=width,src=reduceCandidate(srces.sort(ascendingSort)),srces.src=src):src=srces.src):src=srces[0],src},p=function(elem){if(!supportSrcset||!elem.parentNode||"PICTURE"==elem.parentNode.nodeName.toUpperCase()){var candidate=getCandidate(elem);candidate&&candidate.u&&elem._lazypolyfill.cur!=candidate.u&&(elem._lazypolyfill.cur=candidate.u,candidate.cached=!0,elem.setAttribute(config.srcAttr,candidate.u),elem.setAttribute("src",candidate.u))}};return p.parse=parseWsrcset,p}(),config.loadedClass&&config.loadingClass&&function(){var sels=[];['img[sizes$="px"][srcset].',"picture > img:not([srcset])."].forEach(function(sel){sels.push(sel+config.loadedClass),sels.push(sel+config.loadingClass)}),config.pf({elements:document.querySelectorAll(sels.join(", "))})}()}}(window,document),function(document){"use strict";var regPicture,img=document.createElement("img");!("srcset"in img)||"sizes"in img||window.HTMLPictureElement||(regPicture=/^picture$/i,document.addEventListener("lazybeforeunveil",function(e){var elem,parent,srcset,sizes,isPicture,picture,source;!e.defaultPrevented&&!lazySizesConfig.noIOSFix&&(elem=e.target)&&(srcset=elem.getAttribute(lazySizesConfig.srcsetAttr))&&(parent=elem.parentNode)&&((isPicture=regPicture.test(parent.nodeName||""))||(sizes=elem.getAttribute("sizes")||elem.getAttribute(lazySizesConfig.sizesAttr)))&&(picture=isPicture?parent:document.createElement("picture"),elem._lazyImgSrc||Object.defineProperty(elem,"_lazyImgSrc",{value:document.createElement("source"),writable:!0}),source=elem._lazyImgSrc,sizes&&source.setAttribute("sizes",sizes),source.setAttribute(lazySizesConfig.srcsetAttr,srcset),elem.setAttribute("data-pfsrcset",srcset),elem.removeAttribute(lazySizesConfig.srcsetAttr),isPicture||(parent.insertBefore(picture,elem),picture.appendChild(elem)),picture.insertBefore(source,elem))}))}(document),function(){"use strict";if(window.addEventListener){var regWhite=/\s+/g,regSplitSet=/\s*\|\s+|\s+\|\s*/g,regSource=/^(.+?)(?:\s+\[\s*(.+?)\s*\])?$/,regBgUrlEscape=/\(|\)|'/,allowedBackgroundSize={contain:1,cover:1},proxyWidth=function(elem){var width=lazySizes.gW(elem,elem.parentNode);return(!elem._lazysizesWidth||width>elem._lazysizesWidth)&&(elem._lazysizesWidth=width),elem._lazysizesWidth},getBgSize=function(elem){var bgSize;return bgSize=(getComputedStyle(elem)||{getPropertyValue:function(){}}).getPropertyValue("background-size"),!allowedBackgroundSize[bgSize]&&allowedBackgroundSize[elem.style.backgroundSize]&&(bgSize=elem.style.backgroundSize),bgSize},createPicture=function(sets,elem,img){var picture=document.createElement("picture"),sizes=elem.getAttribute(lazySizesConfig.sizesAttr),ratio=elem.getAttribute("data-ratio"),optimumx=elem.getAttribute("data-optimumx");elem._lazybgset&&elem._lazybgset.parentNode==elem&&elem.removeChild(elem._lazybgset),Object.defineProperty(img,"_lazybgset",{value:elem,writable:!0}),Object.defineProperty(elem,"_lazybgset",{value:picture,writable:!0}),sets=sets.replace(regWhite," ").split(regSplitSet),picture.style.display="none",img.className=lazySizesConfig.lazyClass,1!=sets.length||sizes||(sizes="auto"),sets.forEach(function(set){var source=document.createElement("source");sizes&&"auto"!=sizes&&source.setAttribute("sizes",sizes),set.match(regSource)&&(source.setAttribute(lazySizesConfig.srcsetAttr,RegExp.$1),RegExp.$2&&source.setAttribute("media",lazySizesConfig.customMedia[RegExp.$2]||RegExp.$2)),picture.appendChild(source)}),sizes&&(img.setAttribute(lazySizesConfig.sizesAttr,sizes),elem.removeAttribute(lazySizesConfig.sizesAttr),elem.removeAttribute("sizes")),optimumx&&img.setAttribute("data-optimumx",optimumx),ratio&&img.setAttribute("data-ratio",ratio),picture.appendChild(img),elem.appendChild(picture)},proxyLoad=function(e){if(e.target._lazybgset){var image=e.target,elem=image._lazybgset,bg=image.currentSrc||image.src;bg&&(elem.style.backgroundImage="url("+(regBgUrlEscape.test(bg)?JSON.stringify(bg):bg)+")"),image._lazybgsetLoading&&(lazySizes.fire(elem,"_lazyloaded",{},!1,!0),delete image._lazybgsetLoading)}};addEventListener("lazybeforeunveil",function(e){var set,image,elem;!e.defaultPrevented&&(set=e.target.getAttribute("data-bgset"))&&(elem=e.target,image=document.createElement("img"),image.alt="",image._lazybgsetLoading=!0,e.detail.firesLoad=!0,createPicture(set,elem,image),setTimeout(function(){lazySizes.loader.unveil(image),lazySizes.rAF(function(){lazySizes.fire(image,"_lazyloaded",{},!0,!0),image.complete&&proxyLoad({target:image})})}))}),document.addEventListener("load",proxyLoad,!0),window.addEventListener("lazybeforesizes",function(e){if(e.target._lazybgset&&e.detail.dataAttr){var elem=e.target._lazybgset,bgSize=getBgSize(elem);allowedBackgroundSize[bgSize]&&(e.target._lazysizesParentFit=bgSize,lazySizes.rAF(function(){e.target.setAttribute("data-parent-fit",bgSize),e.target._lazysizesParentFit&&delete e.target._lazysizesParentFit}))}},!0),document.documentElement.addEventListener("lazybeforesizes",function(e){!e.defaultPrevented&&e.target._lazybgset&&(e.detail.width=proxyWidth(e.target._lazybgset))})}}(),function(window,document){"use strict";if(window.addEventListener){var regDescriptors=/\s+(\d+)(w|h)\s+(\d+)(w|h)/,regCssFit=/parent-fit["']*\s*:\s*["']*(contain|cover|width)/,regCssObject=/parent-container["']*\s*:\s*["']*(.+?)(?=(\s|$|,|'|"|;))/,regPicture=/^picture$/i,getCSS=function(elem){return getComputedStyle(elem,null)||{}},parentFit={getParent:function(element,parentSel){var parent=element,parentNode=element.parentNode;return parentSel&&"prev"!=parentSel||!parentNode||!regPicture.test(parentNode.nodeName||"")||(parentNode=parentNode.parentNode),"self"!=parentSel&&(parent="prev"==parentSel?element.previousElementSibling:parentSel&&(parentNode.closest||window.jQuery)?(parentNode.closest?parentNode.closest(parentSel):jQuery(parentNode).closest(parentSel)[0])||parentNode:parentNode),parent},getFit:function(element){var tmpMatch,parentObj,css=getCSS(element),content=css.content||css.fontFamily,obj={fit:element._lazysizesParentFit||element.getAttribute("data-parent-fit")};return!obj.fit&&content&&(tmpMatch=content.match(regCssFit))&&(obj.fit=tmpMatch[1]),obj.fit?(parentObj=element._lazysizesParentContainer||element.getAttribute("data-parent-container"),!parentObj&&content&&(tmpMatch=content.match(regCssObject))&&(parentObj=tmpMatch[1]),obj.parent=parentFit.getParent(element,parentObj)):obj.fit=css.objectFit,obj},getImageRatio:function(element){var i,srcset,media,ratio,parent=element.parentNode,elements=parent&&regPicture.test(parent.nodeName||"")?parent.querySelectorAll("source, img"):[element];for(i=0;i<elements.length;i++)if(element=elements[i],srcset=element.getAttribute(lazySizesConfig.srcsetAttr)||element.getAttribute("srcset")||element.getAttribute("data-pfsrcset")||element.getAttribute("data-risrcset")||"",media=element.getAttribute("media"),media=lazySizesConfig.customMedia[element.getAttribute("data-media")||media]||media,srcset&&(!media||(window.matchMedia&&matchMedia(media)||{}).matches)){ratio=parseFloat(element.getAttribute("data-aspectratio")),!ratio&&srcset.match(regDescriptors)&&(ratio="w"==RegExp.$2?RegExp.$1/RegExp.$3:RegExp.$3/RegExp.$1);break}return ratio},calculateSize:function(element,width){var displayRatio,height,imageRatio,retWidth,fitObj=this.getFit(element),fit=fitObj.fit,fitElem=fitObj.parent;return"width"==fit||("contain"==fit||"cover"==fit)&&(imageRatio=this.getImageRatio(element))?(fitElem?width=fitElem.clientWidth:fitElem=element,retWidth=width,"width"==fit?retWidth=width:(height=fitElem.clientHeight)>40&&(displayRatio=width/height)&&("cover"==fit&&displayRatio<imageRatio||"contain"==fit&&displayRatio>imageRatio)&&(retWidth=width*(imageRatio/displayRatio)),retWidth):width}},extend=function(){window.lazySizes&&(lazySizes.parentFit||(lazySizes.parentFit=parentFit),window.removeEventListener("lazyunveilread",extend,!0))};window.addEventListener("lazyunveilread",extend,!0),document.addEventListener("lazybeforesizes",function(e){if(!e.defaultPrevented){var element=e.target;e.detail.width=parentFit.calculateSize(element,e.detail.width)}}),setTimeout(extend)}}(window,document),function(window){"use strict";var config,elements,onprint,printMedia;window.addEventListener&&(config=window.lazySizes&&lazySizes.cfg||window.lazySizesConfig||{},elements=config.lazyClass||"lazyload",onprint=function(){var i,len;if("string"==typeof elements&&(elements=document.getElementsByClassName(elements)),window.lazySizes)for(i=0,len=elements.length;i<len;i++)lazySizes.loader.unveil(elements[i])},addEventListener("beforeprint",onprint,!1),!("onbeforeprint"in window)&&window.matchMedia&&(printMedia=matchMedia("print"))&&printMedia.addListener&&printMedia.addListener(function(){printMedia.matches&&onprint()}))}(window),function(root,factory){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=factory(root,document):"function"==typeof define&&define.amd?define([],function(){return factory(root,document)}):root.plyr=factory(root,document)}("undefined"!=typeof window?window:this,function(window,document){"use strict";function _browserSniff(){var nameOffset,verOffset,ix,ua=navigator.userAgent,name=navigator.appName,fullVersion=""+parseFloat(navigator.appVersion),majorVersion=parseInt(navigator.appVersion,10),isIE=!1,isFirefox=!1,isChrome=!1,isSafari=!1;return-1!==navigator.appVersion.indexOf("Windows NT")&&-1!==navigator.appVersion.indexOf("rv:11")?(isIE=!0,name="IE",fullVersion="11"):-1!==(verOffset=ua.indexOf("MSIE"))?(isIE=!0,name="IE",fullVersion=ua.substring(verOffset+5)):-1!==(verOffset=ua.indexOf("Chrome"))?(isChrome=!0,name="Chrome",fullVersion=ua.substring(verOffset+7)):-1!==(verOffset=ua.indexOf("Safari"))?(isSafari=!0,name="Safari",fullVersion=ua.substring(verOffset+7),-1!==(verOffset=ua.indexOf("Version"))&&(fullVersion=ua.substring(verOffset+8))):-1!==(verOffset=ua.indexOf("Firefox"))?(isFirefox=!0,name="Firefox",fullVersion=ua.substring(verOffset+8)):(nameOffset=ua.lastIndexOf(" ")+1)<(verOffset=ua.lastIndexOf("/"))&&(name=ua.substring(nameOffset,verOffset),fullVersion=ua.substring(verOffset+1),name.toLowerCase()===name.toUpperCase()&&(name=navigator.appName)),-1!==(ix=fullVersion.indexOf(";"))&&(fullVersion=fullVersion.substring(0,ix)),-1!==(ix=fullVersion.indexOf(" "))&&(fullVersion=fullVersion.substring(0,ix)),majorVersion=parseInt(""+fullVersion,10),isNaN(majorVersion)&&(fullVersion=""+parseFloat(navigator.appVersion),majorVersion=parseInt(navigator.appVersion,10)),{name:name,version:majorVersion,isIE:isIE,isFirefox:isFirefox,isChrome:isChrome,isSafari:isSafari,isIos:/(iPad|iPhone|iPod)/g.test(navigator.platform),isIphone:/(iPhone|iPod)/g.test(navigator.userAgent),isTouch:"ontouchstart"in document.documentElement}}function _supportMime(plyr,mimeType){var media=plyr.media;if("video"===plyr.type)switch(mimeType){case"video/webm":return!(!media.canPlayType||!media.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,""));case"video/mp4":return!(!media.canPlayType||!media.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""));case"video/ogg":return!(!media.canPlayType||!media.canPlayType('video/ogg; codecs="theora"').replace(/no/,""))}else if("audio"===plyr.type)switch(mimeType){case"audio/mpeg":return!(!media.canPlayType||!media.canPlayType("audio/mpeg;").replace(/no/,""));case"audio/ogg":return!(!media.canPlayType||!media.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,""));case"audio/wav":return!(!media.canPlayType||!media.canPlayType('audio/wav; codecs="1"').replace(/no/,""))}return!1}function _injectScript(source){if(!document.querySelectorAll('script[src="'+source+'"]').length){var tag=document.createElement("script");tag.src=source;var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag)}}function _inArray(haystack,needle){return Array.prototype.indexOf&&-1!==haystack.indexOf(needle)}function _replaceAll(string,find,replace){return string.replace(new RegExp(find.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g,"\\$1"),"g"),replace)}function _wrap(elements,wrapper){elements.length||(elements=[elements]);for(var i=elements.length-1;i>=0;i--){var child=i>0?wrapper.cloneNode(!0):wrapper,element=elements[i],parent=element.parentNode,sibling=element.nextSibling;return child.appendChild(element),sibling?parent.insertBefore(child,sibling):parent.appendChild(child),child}}function _remove(element){element&&element.parentNode.removeChild(element)}function _prependChild(parent,element){parent.insertBefore(element,parent.firstChild)}function _setAttributes(element,attributes){for(var key in attributes)element.setAttribute(key,_is.boolean(attributes[key])&&attributes[key]?"":attributes[key])}function _insertElement(type,parent,attributes){var element=document.createElement(type);_setAttributes(element,attributes),_prependChild(parent,element)}function _getClassname(selector){return selector.replace(".","")}function _toggleClass(element,className,state){if(element)if(element.classList)element.classList[state?"add":"remove"](className);else{var name=(" "+element.className+" ").replace(/\s+/g," ").replace(" "+className+" ","");element.className=name+(state?" "+className:"")}}function _hasClass(element,className){return!!element&&(element.classList?element.classList.contains(className):new RegExp("(\\s|^)"+className+"(\\s|$)").test(element.className))}function _matches(element,selector){var p=Element.prototype;return(p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.msMatchesSelector||function(s){return-1!==[].indexOf.call(document.querySelectorAll(s),this)}).call(element,selector)}function _proxyListener(element,eventName,userListener,defaultListener,useCapture){_on(element,eventName,function(event){userListener&&userListener.apply(element,[event]),defaultListener.apply(element,[event])},useCapture)}function _toggleListener(element,events,callback,toggle,useCapture){var eventList=events.split(" ");if(_is.boolean(useCapture)||(useCapture=!1),element instanceof NodeList)for(var x=0;x<element.length;x++)element[x]instanceof Node&&_toggleListener(element[x],arguments[1],arguments[2],arguments[3]);else for(var i=0;i<eventList.length;i++)element[toggle?"addEventListener":"removeEventListener"](eventList[i],callback,useCapture)}function _on(element,events,callback,useCapture){element&&_toggleListener(element,events,callback,!0,useCapture)}function _event(element,type,bubbles,properties){if(element&&type){_is.boolean(bubbles)||(bubbles=!1);var event=new CustomEvent(type,{bubbles:bubbles,detail:properties});element.dispatchEvent(event)}}function _toggleState(target,state){if(target)return state=_is.boolean(state)?state:!target.getAttribute("aria-pressed"),target.setAttribute("aria-pressed",state),state}function _getPercentage(current,max){return 0===current||0===max||isNaN(current)||isNaN(max)?0:(current/max*100).toFixed(2)}function _extend(){var objects=arguments;if(objects.length){if(1===objects.length)return objects[0];for(var destination=Array.prototype.shift.call(objects),length=objects.length,i=0;i<length;i++){var source=objects[i];for(var property in source)source[property]&&source[property].constructor&&source[property].constructor===Object?(destination[property]=destination[property]||{},_extend(destination[property],source[property])):destination[property]=source[property]}return destination}}function _parseYouTubeId(url){var regex=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;return url.match(regex)?RegExp.$2:url}function _parseVimeoId(url){var regex=/^.*(vimeo.com\/|video\/)(\d+).*/;return url.match(regex)?RegExp.$2:url}function _fullscreen(){var fullscreen={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",element:null,prefix:""},browserPrefixes="webkit o moz ms khtml".split(" ");if(_is.undefined(document.cancelFullScreen))for(var i=0,il=browserPrefixes.length;i<il;i++){if(fullscreen.prefix=browserPrefixes[i],!_is.undefined(document[fullscreen.prefix+"CancelFullScreen"])){fullscreen.supportsFullScreen=!0;break}if(!_is.undefined(document.msExitFullscreen)&&document.msFullscreenEnabled){fullscreen.prefix="ms",fullscreen.supportsFullScreen=!0;break}}else fullscreen.supportsFullScreen=!0;return fullscreen.supportsFullScreen&&(fullscreen.fullScreenEventName="ms"===fullscreen.prefix?"MSFullscreenChange":fullscreen.prefix+"fullscreenchange",fullscreen.isFullScreen=function(element){switch(_is.undefined(element)&&(element=document.body),this.prefix){case"":return document.fullscreenElement===element;case"moz":return document.mozFullScreenElement===element;default:return document[this.prefix+"FullscreenElement"]===element}},fullscreen.requestFullScreen=function(element){return _is.undefined(element)&&(element=document.body),""===this.prefix?element.requestFullScreen():element[this.prefix+("ms"===this.prefix?"RequestFullscreen":"RequestFullScreen")]()},fullscreen.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+("ms"===this.prefix?"ExitFullscreen":"CancelFullScreen")]()},fullscreen.element=function(){return""===this.prefix?document.fullscreenElement:document[this.prefix+"FullscreenElement"]}),fullscreen}function Plyr(media,config){function _triggerEvent(element,type,bubbles,properties){_event(element,type,bubbles,_extend({},properties,{plyr:api}))}function _console(type,args){config.debug&&window.console&&(args=Array.prototype.slice.call(args),_is.string(config.logPrefix)&&config.logPrefix.length&&args.unshift(config.logPrefix),console[type].apply(console,args))}function _getIconUrl(){return{url:config.iconUrl,absolute:0===config.iconUrl.indexOf("http")||plyr.browser.isIE}}function _buildControls(){var html=[],iconUrl=_getIconUrl(),iconPath=(iconUrl.absolute?"":iconUrl.url)+"#"+config.iconPrefix;return _inArray(config.controls,"play-large")&&html.push('<button type="button" data-plyr="play" class="plyr__play-large">','<svg><use xlink:href="'+iconPath+'-play" /></svg>','<span class="plyr__sr-only">'+config.i18n.play+"</span>","</button>"),html.push('<div class="plyr__controls">'),_inArray(config.controls,"restart")&&html.push('<button type="button" data-plyr="restart">','<svg><use xlink:href="'+iconPath+'-restart" /></svg>','<span class="plyr__sr-only">'+config.i18n.restart+"</span>","</button>"),_inArray(config.controls,"rewind")&&html.push('<button type="button" data-plyr="rewind">','<svg><use xlink:href="'+iconPath+'-rewind" /></svg>','<span class="plyr__sr-only">'+config.i18n.rewind+"</span>","</button>"),_inArray(config.controls,"play")&&html.push('<button type="button" data-plyr="play">','<svg><use xlink:href="'+iconPath+'-play" /></svg>','<span class="plyr__sr-only">'+config.i18n.play+"</span>","</button>",'<button type="button" data-plyr="pause">','<svg><use xlink:href="'+iconPath+'-pause" /></svg>','<span class="plyr__sr-only">'+config.i18n.pause+"</span>","</button>"),_inArray(config.controls,"fast-forward")&&html.push('<button type="button" data-plyr="fast-forward">','<svg><use xlink:href="'+iconPath+'-fast-forward" /></svg>','<span class="plyr__sr-only">'+config.i18n.forward+"</span>","</button>"),_inArray(config.controls,"progress")&&(html.push('<span class="plyr__progress">','<label for="seek{id}" class="plyr__sr-only">Seek</label>','<input id="seek{id}" class="plyr__progress--seek" type="range" min="0" max="100" step="0.1" value="0" data-plyr="seek">','<progress class="plyr__progress--played" max="100" value="0" role="presentation"></progress>','<progress class="plyr__progress--buffer" max="100" value="0">',"<span>0</span>% "+config.i18n.buffered,"</progress>"),config.tooltips.seek&&html.push('<span class="plyr__tooltip">00:00</span>'),html.push("</span>")),_inArray(config.controls,"current-time")&&html.push('<span class="plyr__time">','<span class="plyr__sr-only">'+config.i18n.currentTime+"</span>",'<span class="plyr__time--current">00:00</span>',"</span>"),_inArray(config.controls,"duration")&&html.push('<span class="plyr__time">','<span class="plyr__sr-only">'+config.i18n.duration+"</span>",'<span class="plyr__time--duration">00:00</span>',"</span>"),_inArray(config.controls,"mute")&&html.push('<button type="button" data-plyr="mute">','<svg class="icon--muted"><use xlink:href="'+iconPath+'-muted" /></svg>','<svg><use xlink:href="'+iconPath+'-volume" /></svg>','<span class="plyr__sr-only">'+config.i18n.toggleMute+"</span>","</button>"),_inArray(config.controls,"volume")&&html.push('<span class="plyr__volume">','<label for="volume{id}" class="plyr__sr-only">'+config.i18n.volume+"</label>",'<input id="volume{id}" class="plyr__volume--input" type="range" min="'+config.volumeMin+'" max="'+config.volumeMax+'" value="'+config.volume+'" data-plyr="volume">','<progress class="plyr__volume--display" max="'+config.volumeMax+'" value="'+config.volumeMin+'" role="presentation"></progress>',"</span>"),_inArray(config.controls,"captions")&&html.push('<button type="button" data-plyr="captions">','<svg class="icon--captions-on"><use xlink:href="'+iconPath+'-captions-on" /></svg>','<svg><use xlink:href="'+iconPath+'-captions-off" /></svg>','<span class="plyr__sr-only">'+config.i18n.toggleCaptions+"</span>","</button>"),_inArray(config.controls,"fullscreen")&&html.push('<button type="button" data-plyr="fullscreen">','<svg class="icon--exit-fullscreen"><use xlink:href="'+iconPath+'-exit-fullscreen" /></svg>','<svg><use xlink:href="'+iconPath+'-enter-fullscreen" /></svg>','<span class="plyr__sr-only">'+config.i18n.toggleFullscreen+"</span>","</button>"),html.push("</div>"),html.join("")}function _setupFullscreen(){if(plyr.supported.full&&("audio"!==plyr.type||config.fullscreen.allowAudio)&&config.fullscreen.enabled){var nativeSupport=fullscreen.supportsFullScreen;nativeSupport||config.fullscreen.fallback&&!_inFrame()?(_log((nativeSupport?"Native":"Fallback")+" fullscreen enabled"),_toggleClass(plyr.container,config.classes.fullscreen.enabled,!0)):_log("Fullscreen not supported and fallback disabled"),plyr.buttons&&plyr.buttons.fullscreen&&_toggleState(plyr.buttons.fullscreen,!1),_focusTrap()}}function _setupCaptions(){if("video"===plyr.type){_getElement(config.selectors.captions)||plyr.videoContainer.insertAdjacentHTML("afterbegin",'<div class="'+_getClassname(config.selectors.captions)+'"></div>'),plyr.usingTextTracks=!1,plyr.media.textTracks&&(plyr.usingTextTracks=!0);for(var kind,captionSrc="",children=plyr.media.childNodes,i=0;i<children.length;i++)"track"===children[i].nodeName.toLowerCase()&&("captions"!==(kind=children[i].kind)&&"subtitles"!==kind||(captionSrc=children[i].getAttribute("src")));if(plyr.captionExists=!0,""===captionSrc?(plyr.captionExists=!1,_log("No caption track found")):_log("Caption track found; URI: "+captionSrc),plyr.captionExists){for(var tracks=plyr.media.textTracks,x=0;x<tracks.length;x++)tracks[x].mode="hidden";if(_showCaptions(),(plyr.browser.isIE&&plyr.browser.version>=10||plyr.browser.isFirefox&&plyr.browser.version>=31)&&(_log("Detected browser with known TextTrack issues - using manual fallback"),plyr.usingTextTracks=!1),plyr.usingTextTracks){_log("TextTracks supported");for(var y=0;y<tracks.length;y++){var track=tracks[y];"captions"!==track.kind&&"subtitles"!==track.kind||_on(track,"cuechange",function(){this.activeCues[0]&&"text"in this.activeCues[0]?_setCaption(this.activeCues[0].getCueAsHTML()):_setCaption()})}}else if(_log("TextTracks not supported so rendering captions manually"),plyr.currentCaption="",plyr.captions=[],""!==captionSrc){var xhr=new XMLHttpRequest;xhr.onreadystatechange=function(){if(4===xhr.readyState)if(200===xhr.status){var caption,captions=[],req=xhr.responseText,lineSeparator="\r\n";-1===req.indexOf(lineSeparator+lineSeparator)&&(lineSeparator=-1!==req.indexOf("\r\r")?"\r":"\n"),captions=req.split(lineSeparator+lineSeparator);for(var r=0;r<captions.length;r++){caption=captions[r],plyr.captions[r]=[];var parts=caption.split(lineSeparator),index=0;-1===parts[index].indexOf(":")&&(index=1),plyr.captions[r]=[parts[index],parts[index+1]]}plyr.captions.shift(),_log("Successfully loaded the caption file via AJAX")}else _warn(config.logPrefix+"There was a problem loading the caption file via AJAX")},xhr.open("get",captionSrc,!0),xhr.send()}}else _toggleClass(plyr.container,config.classes.captions.enabled)}}function _setCaption(caption){var container=_getElement(config.selectors.captions),content=document.createElement("span");container.innerHTML="",_is.undefined(caption)&&(caption=""),_is.string(caption)?content.innerHTML=caption.trim():content.appendChild(caption),container.appendChild(content);container.offsetHeight}function _seekManualCaptions(time){function _timecodeCommon(tc,pos){var tcpair=[];tcpair=tc.split(" --\x3e ");for(var i=0;i<tcpair.length;i++)tcpair[i]=tcpair[i].replace(/(\d+:\d+:\d+\.\d+).*/,"$1");return _subTcSecs(tcpair[pos])}function _timecodeMax(tc){return _timecodeCommon(tc,1)}function _subTcSecs(tc){if(null===tc||void 0===tc)return 0;var tc1=[],tc2=[];return tc1=tc.split(","),tc2=tc1[0].split(":"),Math.floor(60*tc2[0]*60)+Math.floor(60*tc2[1])+Math.floor(tc2[2])}if(!plyr.usingTextTracks&&"video"===plyr.type&&plyr.supported.full&&(plyr.subcount=0,time=_is.number(time)?time:plyr.media.currentTime,plyr.captions[plyr.subcount])){for(;_timecodeMax(plyr.captions[plyr.subcount][0])<time.toFixed(1);)if(++plyr.subcount>plyr.captions.length-1){plyr.subcount=plyr.captions.length-1;break}plyr.media.currentTime.toFixed(1)>=function(tc){return _timecodeCommon(tc,0)}(plyr.captions[plyr.subcount][0])&&plyr.media.currentTime.toFixed(1)<=_timecodeMax(plyr.captions[plyr.subcount][0])?(plyr.currentCaption=plyr.captions[plyr.subcount][1],_setCaption(plyr.currentCaption)):_setCaption()}}function _showCaptions(){if(plyr.buttons.captions){_toggleClass(plyr.container,config.classes.captions.enabled,!0);var active=plyr.storage.captionsEnabled;_is.boolean(active)||(active=config.captions.defaultActive),active&&(_toggleClass(plyr.container,config.classes.captions.active,!0),_toggleState(plyr.buttons.captions,!0))}}function _getElements(selector){return plyr.container.querySelectorAll(selector)}function _getElement(selector){return _getElements(selector)[0]}function _inFrame(){try{return window.self!==window.top}catch(e){return!0}}function _focusTrap(){function _checkFocus(event){9===event.which&&plyr.isFullscreen&&(event.target!==last||event.shiftKey?event.target===first&&event.shiftKey&&(event.preventDefault(),last.focus()):(event.preventDefault(),first.focus()))}var tabbables=_getElements("input:not([disabled]), button:not([disabled])"),first=tabbables[0],last=tabbables[tabbables.length-1];_on(plyr.container,"keydown",_checkFocus)}function _insertChildElements(type,attributes){if(_is.string(attributes))_insertElement(type,plyr.media,{src:attributes});else if(attributes.constructor===Array)for(var i=attributes.length-1;i>=0;i--)_insertElement(type,plyr.media,attributes[i])}function _injectControls(){if(config.loadSprite){var iconUrl=_getIconUrl()
;iconUrl.absolute?(_log("AJAX loading absolute SVG sprite"+(plyr.browser.isIE?" (due to IE)":"")),loadSprite(iconUrl.url,"sprite-plyr")):_log("Sprite will be used as external resource directly")}var html=config.html;_log("Injecting custom controls"),html||(html=_buildControls()),html=_replaceAll(html,"{seektime}",config.seekTime),html=_replaceAll(html,"{id}",Math.floor(1e4*Math.random()));var target;if(_is.string(config.selectors.controls.container)&&(target=document.querySelector(config.selectors.controls.container)),_is.htmlElement(target)||(target=plyr.container),target.insertAdjacentHTML("beforeend",html),config.tooltips.controls)for(var labels=_getElements([config.selectors.controls.wrapper," ",config.selectors.labels," .",config.classes.hidden].join("")),i=labels.length-1;i>=0;i--){var label=labels[i];_toggleClass(label,config.classes.hidden,!1),_toggleClass(label,config.classes.tooltip,!0)}}function _findElements(){try{return plyr.controls=_getElement(config.selectors.controls.wrapper),plyr.buttons={},plyr.buttons.seek=_getElement(config.selectors.buttons.seek),plyr.buttons.play=_getElements(config.selectors.buttons.play),plyr.buttons.pause=_getElement(config.selectors.buttons.pause),plyr.buttons.restart=_getElement(config.selectors.buttons.restart),plyr.buttons.rewind=_getElement(config.selectors.buttons.rewind),plyr.buttons.forward=_getElement(config.selectors.buttons.forward),plyr.buttons.fullscreen=_getElement(config.selectors.buttons.fullscreen),plyr.buttons.mute=_getElement(config.selectors.buttons.mute),plyr.buttons.captions=_getElement(config.selectors.buttons.captions),plyr.progress={},plyr.progress.container=_getElement(config.selectors.progress.container),plyr.progress.buffer={},plyr.progress.buffer.bar=_getElement(config.selectors.progress.buffer),plyr.progress.buffer.text=plyr.progress.buffer.bar&&plyr.progress.buffer.bar.getElementsByTagName("span")[0],plyr.progress.played=_getElement(config.selectors.progress.played),plyr.progress.tooltip=plyr.progress.container&&plyr.progress.container.querySelector("."+config.classes.tooltip),plyr.volume={},plyr.volume.input=_getElement(config.selectors.volume.input),plyr.volume.display=_getElement(config.selectors.volume.display),plyr.duration=_getElement(config.selectors.duration),plyr.currentTime=_getElement(config.selectors.currentTime),plyr.seekTime=_getElements(config.selectors.seekTime),!0}catch(e){return _warn("It looks like there is a problem with your controls HTML"),_toggleNativeControls(!0),!1}}function _toggleStyleHook(){_toggleClass(plyr.container,config.selectors.container.replace(".",""),plyr.supported.full)}function _toggleNativeControls(toggle){toggle&&_inArray(config.types.html5,plyr.type)?plyr.media.setAttribute("controls",""):plyr.media.removeAttribute("controls")}function _setTitle(iframe){var label=config.i18n.play;if(_is.string(config.title)&&config.title.length&&(label+=", "+config.title,plyr.container.setAttribute("aria-label",config.title)),plyr.supported.full&&plyr.buttons.play)for(var i=plyr.buttons.play.length-1;i>=0;i--)plyr.buttons.play[i].setAttribute("aria-label",label);_is.htmlElement(iframe)&&iframe.setAttribute("title",config.i18n.frameTitle.replace("{title}",config.title))}function _setupStorage(){var value=null;plyr.storage={},_storage.supported&&config.storage.enabled&&(window.localStorage.removeItem("plyr-volume"),(value=window.localStorage.getItem(config.storage.key))&&(/^\d+(\.\d+)?$/.test(value)?_updateStorage({volume:parseFloat(value)}):plyr.storage=JSON.parse(value)))}function _updateStorage(value){_storage.supported&&config.storage.enabled&&(_extend(plyr.storage,value),window.localStorage.setItem(config.storage.key,JSON.stringify(plyr.storage)))}function _setupMedia(){if(!plyr.media)return void _warn("No media element found!");if(plyr.supported.full&&(_toggleClass(plyr.container,config.classes.type.replace("{0}",plyr.type),!0),_inArray(config.types.embed,plyr.type)&&_toggleClass(plyr.container,config.classes.type.replace("{0}","video"),!0),_toggleClass(plyr.container,config.classes.stopped,config.autoplay),_toggleClass(plyr.container,config.classes.isIos,plyr.browser.isIos),_toggleClass(plyr.container,config.classes.isTouch,plyr.browser.isTouch),"video"===plyr.type)){var wrapper=document.createElement("div");wrapper.setAttribute("class",config.classes.videoWrapper),_wrap(plyr.media,wrapper),plyr.videoContainer=wrapper}_inArray(config.types.embed,plyr.type)&&_setupEmbed()}function _setupEmbed(){var mediaId,container=document.createElement("div"),id=plyr.type+"-"+Math.floor(1e4*Math.random());switch(plyr.type){case"youtube":mediaId=_parseYouTubeId(plyr.embedId);break;case"vimeo":mediaId=_parseVimeoId(plyr.embedId);break;default:mediaId=plyr.embedId}for(var containers=_getElements('[id^="'+plyr.type+'-"]'),i=containers.length-1;i>=0;i--)_remove(containers[i]);if(_toggleClass(plyr.media,config.classes.videoWrapper,!0),_toggleClass(plyr.media,config.classes.embedWrapper,!0),"youtube"===plyr.type)plyr.media.appendChild(container),container.setAttribute("id",id),_is.object(window.YT)?_youTubeReady(mediaId,container):(_injectScript(config.urls.youtube.api),window.onYouTubeReadyCallbacks=window.onYouTubeReadyCallbacks||[],window.onYouTubeReadyCallbacks.push(function(){_youTubeReady(mediaId,container)}),window.onYouTubeIframeAPIReady=function(){window.onYouTubeReadyCallbacks.forEach(function(callback){callback()})});else if("vimeo"===plyr.type)if(plyr.supported.full?plyr.media.appendChild(container):container=plyr.media,container.setAttribute("id",id),_is.object(window.Vimeo))_vimeoReady(mediaId,container);else{_injectScript(config.urls.vimeo.api);var vimeoTimer=window.setInterval(function(){_is.object(window.Vimeo)&&(window.clearInterval(vimeoTimer),_vimeoReady(mediaId,container))},50)}else if("soundcloud"===plyr.type){var soundCloud=document.createElement("iframe");soundCloud.loaded=!1,_on(soundCloud,"load",function(){soundCloud.loaded=!0}),_setAttributes(soundCloud,{src:"https://w.soundcloud.com/player/?url=https://api.soundcloud.com/tracks/"+mediaId,id:id}),container.appendChild(soundCloud),plyr.media.appendChild(container),window.SC||_injectScript(config.urls.soundcloud.api);var soundCloudTimer=window.setInterval(function(){window.SC&&soundCloud.loaded&&(window.clearInterval(soundCloudTimer),_soundcloudReady.call(soundCloud))},50)}}function _embedReady(){plyr.supported.full&&(_setupInterface(),_ready()),_setTitle(_getElement("iframe"))}function _youTubeReady(videoId,container){plyr.embed=new window.YT.Player(container.id,{videoId:videoId,playerVars:{autoplay:config.autoplay?1:0,controls:plyr.supported.full?0:1,rel:0,showinfo:0,iv_load_policy:3,cc_load_policy:config.captions.defaultActive?1:0,cc_lang_pref:"en",wmode:"transparent",modestbranding:1,disablekb:1,origin:"*"},events:{onError:function(event){_triggerEvent(plyr.container,"error",!0,{code:event.data,embed:event.target})},onReady:function(event){var instance=event.target;plyr.media.play=function(){instance.playVideo(),plyr.media.paused=!1},plyr.media.pause=function(){instance.pauseVideo(),plyr.media.paused=!0},plyr.media.stop=function(){instance.stopVideo(),plyr.media.paused=!0},plyr.media.duration=instance.getDuration(),plyr.media.paused=!0,plyr.media.currentTime=0,plyr.media.muted=instance.isMuted(),config.title=instance.getVideoData().title,plyr.supported.full&&plyr.media.querySelector("iframe").setAttribute("tabindex","-1"),_embedReady(),_triggerEvent(plyr.media,"timeupdate"),_triggerEvent(plyr.media,"durationchange"),window.clearInterval(timers.buffering),timers.buffering=window.setInterval(function(){plyr.media.buffered=instance.getVideoLoadedFraction(),(null===plyr.media.lastBuffered||plyr.media.lastBuffered<plyr.media.buffered)&&_triggerEvent(plyr.media,"progress"),plyr.media.lastBuffered=plyr.media.buffered,1===plyr.media.buffered&&(window.clearInterval(timers.buffering),_triggerEvent(plyr.media,"canplaythrough"))},200)},onStateChange:function(event){var instance=event.target;switch(window.clearInterval(timers.playing),event.data){case 0:plyr.media.paused=!0,_triggerEvent(plyr.media,"ended");break;case 1:plyr.media.paused=!1,plyr.media.seeking&&_triggerEvent(plyr.media,"seeked"),plyr.media.seeking=!1,_triggerEvent(plyr.media,"play"),_triggerEvent(plyr.media,"playing"),timers.playing=window.setInterval(function(){plyr.media.currentTime=instance.getCurrentTime(),_triggerEvent(plyr.media,"timeupdate")},100),plyr.media.duration!==instance.getDuration()&&(plyr.media.duration=instance.getDuration(),_triggerEvent(plyr.media,"durationchange"));break;case 2:plyr.media.paused=!0,_triggerEvent(plyr.media,"pause")}_triggerEvent(plyr.container,"statechange",!1,{code:event.data})}}})}function _vimeoReady(mediaId,container){plyr.embed=new window.Vimeo.Player(container,{id:parseInt(mediaId),loop:config.loop,autoplay:config.autoplay,byline:!1,portrait:!1,title:!1}),plyr.media.play=function(){plyr.embed.play(),plyr.media.paused=!1},plyr.media.pause=function(){plyr.embed.pause(),plyr.media.paused=!0},plyr.media.stop=function(){plyr.embed.stop(),plyr.media.paused=!0},plyr.media.paused=!0,plyr.media.currentTime=0,_embedReady(),plyr.embed.getCurrentTime().then(function(value){plyr.media.currentTime=value,_triggerEvent(plyr.media,"timeupdate")}),plyr.embed.getDuration().then(function(value){plyr.media.duration=value,_triggerEvent(plyr.media,"durationchange")}),plyr.embed.on("loaded",function(){_is.htmlElement(plyr.embed.element)&&plyr.supported.full&&plyr.embed.element.setAttribute("tabindex","-1")}),plyr.embed.on("play",function(){plyr.media.paused=!1,_triggerEvent(plyr.media,"play"),_triggerEvent(plyr.media,"playing")}),plyr.embed.on("pause",function(){plyr.media.paused=!0,_triggerEvent(plyr.media,"pause")}),plyr.embed.on("timeupdate",function(data){plyr.media.seeking=!1,plyr.media.currentTime=data.seconds,_triggerEvent(plyr.media,"timeupdate")}),plyr.embed.on("progress",function(data){plyr.media.buffered=data.percent,_triggerEvent(plyr.media,"progress"),1===parseInt(data.percent)&&_triggerEvent(plyr.media,"canplaythrough")}),plyr.embed.on("seeked",function(){plyr.media.seeking=!1,_triggerEvent(plyr.media,"seeked"),_triggerEvent(plyr.media,"play")}),plyr.embed.on("ended",function(){plyr.media.paused=!0,_triggerEvent(plyr.media,"ended")})}function _soundcloudReady(){plyr.embed=window.SC.Widget(this),plyr.embed.bind(window.SC.Widget.Events.READY,function(){plyr.media.play=function(){plyr.embed.play(),plyr.media.paused=!1},plyr.media.pause=function(){plyr.embed.pause(),plyr.media.paused=!0},plyr.media.stop=function(){plyr.embed.seekTo(0),plyr.embed.pause(),plyr.media.paused=!0},plyr.media.paused=!0,plyr.media.currentTime=0,plyr.embed.getDuration(function(value){plyr.media.duration=value/1e3,_embedReady()}),plyr.embed.getPosition(function(value){plyr.media.currentTime=value,_triggerEvent(plyr.media,"timeupdate")}),plyr.embed.bind(window.SC.Widget.Events.PLAY,function(){plyr.media.paused=!1,_triggerEvent(plyr.media,"play"),_triggerEvent(plyr.media,"playing")}),plyr.embed.bind(window.SC.Widget.Events.PAUSE,function(){plyr.media.paused=!0,_triggerEvent(plyr.media,"pause")}),plyr.embed.bind(window.SC.Widget.Events.PLAY_PROGRESS,function(data){plyr.media.seeking=!1,plyr.media.currentTime=data.currentPosition/1e3,_triggerEvent(plyr.media,"timeupdate")}),plyr.embed.bind(window.SC.Widget.Events.LOAD_PROGRESS,function(data){plyr.media.buffered=data.loadProgress,_triggerEvent(plyr.media,"progress"),1===parseInt(data.loadProgress)&&_triggerEvent(plyr.media,"canplaythrough")}),plyr.embed.bind(window.SC.Widget.Events.FINISH,function(){plyr.media.paused=!0,_triggerEvent(plyr.media,"ended")})})}function _play(){"play"in plyr.media&&plyr.media.play()}function _pause(){"pause"in plyr.media&&plyr.media.pause()}function _togglePlay(toggle){return _is.boolean(toggle)||(toggle=plyr.media.paused),toggle?_play():_pause(),toggle}function _rewind(seekTime){_is.number(seekTime)||(seekTime=config.seekTime),_seek(plyr.media.currentTime-seekTime)}function _forward(seekTime){_is.number(seekTime)||(seekTime=config.seekTime),_seek(plyr.media.currentTime+seekTime)}function _seek(input){var targetTime=0,paused=plyr.media.paused,duration=_getDuration();_is.number(input)?targetTime=input:_is.object(input)&&_inArray(["input","change"],input.type)&&(targetTime=input.target.value/input.target.max*duration),targetTime<0?targetTime=0:targetTime>duration&&(targetTime=duration),_updateSeekDisplay(targetTime);try{plyr.media.currentTime=targetTime.toFixed(4)}catch(e){}if(_inArray(config.types.embed,plyr.type)){switch(plyr.type){case"youtube":plyr.embed.seekTo(targetTime);break;case"vimeo":plyr.embed.setCurrentTime(targetTime.toFixed(0));break;case"soundcloud":plyr.embed.seekTo(1e3*targetTime)}paused&&_pause(),_triggerEvent(plyr.media,"timeupdate"),plyr.media.seeking=!0,_triggerEvent(plyr.media,"seeking")}_log("Seeking to "+plyr.media.currentTime+" seconds"),_seekManualCaptions(targetTime)}function _getDuration(){var duration=parseInt(config.duration),mediaDuration=0;return null===plyr.media.duration||isNaN(plyr.media.duration)||(mediaDuration=plyr.media.duration),isNaN(duration)?mediaDuration:duration}function _checkPlaying(){_toggleClass(plyr.container,config.classes.playing,!plyr.media.paused),_toggleClass(plyr.container,config.classes.stopped,plyr.media.paused),_toggleControls(plyr.media.paused)}function _saveScrollPosition(){scroll={x:window.pageXOffset||0,y:window.pageYOffset||0}}function _restoreScrollPosition(){window.scrollTo(scroll.x,scroll.y)}function _toggleFullscreen(event){var nativeSupport=fullscreen.supportsFullScreen;if(nativeSupport){if(!event||event.type!==fullscreen.fullScreenEventName)return fullscreen.isFullScreen(plyr.container)?fullscreen.cancelFullScreen():(_saveScrollPosition(),fullscreen.requestFullScreen(plyr.container)),void(plyr.isFullscreen=fullscreen.isFullScreen(plyr.container));plyr.isFullscreen=fullscreen.isFullScreen(plyr.container)}else plyr.isFullscreen=!plyr.isFullscreen,document.body.style.overflow=plyr.isFullscreen?"hidden":"";_toggleClass(plyr.container,config.classes.fullscreen.active,plyr.isFullscreen),_focusTrap(plyr.isFullscreen),plyr.buttons&&plyr.buttons.fullscreen&&_toggleState(plyr.buttons.fullscreen,plyr.isFullscreen),_triggerEvent(plyr.container,plyr.isFullscreen?"enterfullscreen":"exitfullscreen",!0),!plyr.isFullscreen&&nativeSupport&&_restoreScrollPosition()}function _toggleMute(muted){if(_is.boolean(muted)||(muted=!plyr.media.muted),_toggleState(plyr.buttons.mute,muted),plyr.media.muted=muted,0===plyr.media.volume&&_setVolume(config.volume),_inArray(config.types.embed,plyr.type)){switch(plyr.type){case"youtube":plyr.embed[plyr.media.muted?"mute":"unMute"]();break;case"vimeo":case"soundcloud":plyr.embed.setVolume(plyr.media.muted?0:parseFloat(config.volume/config.volumeMax))}_triggerEvent(plyr.media,"volumechange")}}function _setVolume(volume){var max=config.volumeMax,min=config.volumeMin;if(_is.undefined(volume)&&(volume=plyr.storage.volume),(null===volume||isNaN(volume))&&(volume=config.volume),volume>max&&(volume=max),volume<min&&(volume=min),plyr.media.volume=parseFloat(volume/max),plyr.volume.display&&(plyr.volume.display.value=volume),_inArray(config.types.embed,plyr.type)){switch(plyr.type){case"youtube":plyr.embed.setVolume(100*plyr.media.volume);break;case"vimeo":case"soundcloud":plyr.embed.setVolume(plyr.media.volume)}_triggerEvent(plyr.media,"volumechange")}0===volume?plyr.media.muted=!0:plyr.media.muted&&volume>0&&_toggleMute()}function _increaseVolume(step){var volume=plyr.media.muted?0:plyr.media.volume*config.volumeMax;_is.number(step)||(step=config.volumeStep),_setVolume(volume+step)}function _decreaseVolume(step){var volume=plyr.media.muted?0:plyr.media.volume*config.volumeMax;_is.number(step)||(step=config.volumeStep),_setVolume(volume-step)}function _updateVolume(){var volume=plyr.media.muted?0:plyr.media.volume*config.volumeMax;plyr.supported.full&&(plyr.volume.input&&(plyr.volume.input.value=volume),plyr.volume.display&&(plyr.volume.display.value=volume)),_updateStorage({volume:volume}),_toggleClass(plyr.container,config.classes.muted,0===volume),plyr.supported.full&&plyr.buttons.mute&&_toggleState(plyr.buttons.mute,0===volume)}function _toggleCaptions(show){plyr.supported.full&&plyr.buttons.captions&&(_is.boolean(show)||(show=-1===plyr.container.className.indexOf(config.classes.captions.active)),plyr.captionsEnabled=show,_toggleState(plyr.buttons.captions,plyr.captionsEnabled),_toggleClass(plyr.container,config.classes.captions.active,plyr.captionsEnabled),_triggerEvent(plyr.container,plyr.captionsEnabled?"captionsenabled":"captionsdisabled",!0),_updateStorage({captionsEnabled:plyr.captionsEnabled}))}function _checkLoading(event){var loading="waiting"===event.type;clearTimeout(timers.loading),timers.loading=setTimeout(function(){_toggleClass(plyr.container,config.classes.loading,loading),_toggleControls(loading)},loading?250:0)}function _updateProgress(event){if(plyr.supported.full){var progress=plyr.progress.played,value=0,duration=_getDuration();if(event)switch(event.type){case"timeupdate":case"seeking":if(plyr.controls.pressed)return;value=_getPercentage(plyr.media.currentTime,duration),"timeupdate"===event.type&&plyr.buttons.seek&&(plyr.buttons.seek.value=value);break;case"playing":case"progress":progress=plyr.progress.buffer,value=function(){var buffered=plyr.media.buffered;return buffered&&buffered.length?_getPercentage(buffered.end(0),duration):_is.number(buffered)?100*buffered:0}()}_setProgress(progress,value)}}function _setProgress(progress,value){if(plyr.supported.full){if(_is.undefined(value)&&(value=0),_is.undefined(progress)){if(!plyr.progress||!plyr.progress.buffer)return;progress=plyr.progress.buffer}_is.htmlElement(progress)?progress.value=value:progress&&(progress.bar&&(progress.bar.value=value),progress.text&&(progress.text.innerHTML=value))}}function _updateTimeDisplay(time,element){if(element){isNaN(time)&&(time=0),plyr.secs=parseInt(time%60),plyr.mins=parseInt(time/60%60),plyr.hours=parseInt(time/60/60%60);var displayHours=parseInt(_getDuration()/60/60%60)>0;plyr.secs=("0"+plyr.secs).slice(-2),plyr.mins=("0"+plyr.mins).slice(-2),element.innerHTML=(displayHours?plyr.hours+":":"")+plyr.mins+":"+plyr.secs}}function _displayDuration(){if(plyr.supported.full){var duration=_getDuration()||0;!plyr.duration&&config.displayDuration&&plyr.media.paused&&_updateTimeDisplay(duration,plyr.currentTime),plyr.duration&&_updateTimeDisplay(duration,plyr.duration),_updateSeekTooltip()}}function _timeUpdate(event){_updateTimeDisplay(plyr.media.currentTime,plyr.currentTime),event&&"timeupdate"===event.type&&plyr.media.seeking||_updateProgress(event)}function _updateSeekDisplay(time){_is.number(time)||(time=0);var duration=_getDuration(),value=_getPercentage(time,duration);plyr.progress&&plyr.progress.played&&(plyr.progress.played.value=value),plyr.buttons&&plyr.buttons.seek&&(plyr.buttons.seek.value=value)}function _updateSeekTooltip(event){var duration=_getDuration();if(config.tooltips.seek&&plyr.progress.container&&0!==duration){var clientRect=plyr.progress.container.getBoundingClientRect(),percent=0,visible=config.classes.tooltip+"--visible";if(event)percent=100/clientRect.width*(event.pageX-clientRect.left);else{if(!_hasClass(plyr.progress.tooltip,visible))return;percent=plyr.progress.tooltip.style.left.replace("%","")}percent<0?percent=0:percent>100&&(percent=100),_updateTimeDisplay(duration/100*percent,plyr.progress.tooltip),plyr.progress.tooltip.style.left=percent+"%",event&&_inArray(["mouseenter","mouseleave"],event.type)&&_toggleClass(plyr.progress.tooltip,visible,"mouseenter"===event.type)}}function _toggleControls(toggle){if(config.hideControls&&"audio"!==plyr.type){var delay=0,isEnterFullscreen=!1,show=toggle,loading=_hasClass(plyr.container,config.classes.loading);if(_is.boolean(toggle)||(toggle&&toggle.type?(isEnterFullscreen="enterfullscreen"===toggle.type,show=_inArray(["mousemove","touchstart","mouseenter","focus"],toggle.type),_inArray(["mousemove","touchmove"],toggle.type)&&(delay=2e3),"focus"===toggle.type&&(delay=3e3)):show=_hasClass(plyr.container,config.classes.hideControls)),window.clearTimeout(timers.hover),show||plyr.media.paused||loading){if(_toggleClass(plyr.container,config.classes.hideControls,!1),plyr.media.paused||loading)return;plyr.browser.isTouch&&(delay=3e3)}show&&plyr.media.paused||(timers.hover=window.setTimeout(function(){(!plyr.controls.pressed&&!plyr.controls.hover||isEnterFullscreen)&&_toggleClass(plyr.container,config.classes.hideControls,!0)},delay))}}function _source(source){if(!_is.undefined(source))return void _updateSource(source);var url;switch(plyr.type){case"youtube":url=plyr.embed.getVideoUrl();break;case"vimeo":plyr.embed.getVideoUrl.then(function(value){url=value});break;case"soundcloud":plyr.embed.getCurrentSound(function(object){url=object.permalink_url});break;default:url=plyr.media.currentSrc}return url||""}function _updateSource(source){function setup(){if(plyr.embed=null,_remove(plyr.media),"video"===plyr.type&&plyr.videoContainer&&_remove(plyr.videoContainer),plyr.container&&plyr.container.removeAttribute("class"),"type"in source&&(plyr.type=source.type,"video"===plyr.type)){var firstSource=source.sources[0];"type"in firstSource&&_inArray(config.types.embed,firstSource.type)&&(plyr.type=firstSource.type)}switch(plyr.supported=supported(plyr.type),plyr.type){case"video":plyr.media=document.createElement("video");break;case"audio":plyr.media=document.createElement("audio");break;case"youtube":case"vimeo":case"soundcloud":plyr.media=document.createElement("div"),plyr.embedId=source.sources[0].src}_prependChild(plyr.container,plyr.media),_is.boolean(source.autoplay)&&(config.autoplay=source.autoplay),_inArray(config.types.html5,plyr.type)&&(config.crossorigin&&plyr.media.setAttribute("crossorigin",""),config.autoplay&&plyr.media.setAttribute("autoplay",""),"poster"in source&&plyr.media.setAttribute("poster",source.poster),config.loop&&plyr.media.setAttribute("loop","")),_toggleClass(plyr.container,config.classes.fullscreen.active,plyr.isFullscreen),_toggleClass(plyr.container,config.classes.captions.active,plyr.captionsEnabled),_toggleStyleHook(),_inArray(config.types.html5,plyr.type)&&_insertChildElements("source",source.sources),_setupMedia(),_inArray(config.types.html5,plyr.type)&&("tracks"in source&&_insertChildElements("track",source.tracks),plyr.media.load()),(_inArray(config.types.html5,plyr.type)||_inArray(config.types.embed,plyr.type)&&!plyr.supported.full)&&(_setupInterface(),_ready()),config.title=source.title,_setTitle()}if(!(_is.object(source)&&"sources"in source&&source.sources.length))return void _warn("Invalid source format");_toggleClass(plyr.container,config.classes.ready,!1),_pause(),_updateSeekDisplay(),_setProgress(),_cancelRequests(),_destroy(setup,!1)}function _updatePoster(source){"video"===plyr.type&&plyr.media.setAttribute("poster",source)}function _controlListeners(){function togglePlay(){var play=_togglePlay(),trigger=plyr.buttons[play?"play":"pause"],target=plyr.buttons[play?"pause":"play"];if(target=target&&target.length>1?target[target.length-1]:target[0]){var hadTabFocus=_hasClass(trigger,config.classes.tabFocus);setTimeout(function(){target.focus(),hadTabFocus&&(_toggleClass(trigger,config.classes.tabFocus,!1),_toggleClass(target,config.classes.tabFocus,!0))},100)}}function getFocusElement(){var focused=document.activeElement;return focused=focused&&focused!==document.body?document.querySelector(":focus"):null}function getKeyCode(event){return event.keyCode?event.keyCode:event.which}function checkTabFocus(focused){for(var button in plyr.buttons){var element=plyr.buttons[button];if(_is.nodeList(element))for(var i=0;i<element.length;i++)_toggleClass(element[i],config.classes.tabFocus,element[i]===focused);else _toggleClass(element,config.classes.tabFocus,element===focused)}}function handleKey(event){var code=getKeyCode(event),pressed="keydown"===event.type,held=pressed&&code===last;if(_is.number(code))if(pressed){var preventDefault=[48,49,50,51,52,53,54,56,57,32,75,38,40,77,39,37,70,67];switch(_inArray(preventDefault,code)&&(event.preventDefault(),event.stopPropagation()),code){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:held||function(){var duration=plyr.media.duration;_is.number(duration)&&_seek(duration/10*(code-48))}();break;case 32:case 75:held||_togglePlay();break;case 38:_increaseVolume();break;case 40:_decreaseVolume();break;case 77:held||_toggleMute();break;case 39:_forward();break;case 37:_rewind();break;case 70:_toggleFullscreen();break;case 67:held||_toggleCaptions()}!fullscreen.supportsFullScreen&&plyr.isFullscreen&&27===code&&_toggleFullscreen(),last=code}else last=null}var inputEvent=plyr.browser.isIE?"change":"input";if(config.keyboardShorcuts.focused){var last=null;config.keyboardShorcuts.global&&_on(window,"keydown keyup",function(event){var code=getKeyCode(event),focused=getFocusElement(),allowed=[48,49,50,51,52,53,54,56,57,75,77,70,67];1!==get().length||!_inArray(allowed,code)||_is.htmlElement(focused)&&_matches(focused,config.selectors.editable)||handleKey(event)}),_on(plyr.container,"keydown keyup",handleKey)}_on(window,"keyup",function(event){var code=getKeyCode(event),focused=getFocusElement();9===code&&checkTabFocus(focused)}),_on(document.body,"click",function(){_toggleClass(_getElement("."+config.classes.tabFocus),config.classes.tabFocus,!1)});for(var button in plyr.buttons){var element=plyr.buttons[button];_on(element,"blur",function(){_toggleClass(element,"tab-focus",!1)})}_proxyListener(plyr.buttons.play,"click",config.listeners.play,togglePlay),_proxyListener(plyr.buttons.pause,"click",config.listeners.pause,togglePlay),_proxyListener(plyr.buttons.restart,"click",config.listeners.restart,_seek),_proxyListener(plyr.buttons.rewind,"click",config.listeners.rewind,_rewind),_proxyListener(plyr.buttons.forward,"click",config.listeners.forward,_forward),_proxyListener(plyr.buttons.seek,inputEvent,config.listeners.seek,_seek),_proxyListener(plyr.volume.input,inputEvent,config.listeners.volume,function(){_setVolume(plyr.volume.input.value)}),_proxyListener(plyr.buttons.mute,"click",config.listeners.mute,_toggleMute),_proxyListener(plyr.buttons.fullscreen,"click",config.listeners.fullscreen,_toggleFullscreen),fullscreen.supportsFullScreen&&_on(document,fullscreen.fullScreenEventName,_toggleFullscreen),_proxyListener(plyr.buttons.captions,"click",config.listeners.captions,_toggleCaptions),_on(plyr.progress.container,"mouseenter mouseleave mousemove",_updateSeekTooltip),config.hideControls&&(_on(plyr.container,"mouseenter mouseleave mousemove touchstart touchend touchcancel touchmove enterfullscreen",_toggleControls),_on(plyr.controls,"mouseenter mouseleave",function(event){plyr.controls.hover="mouseenter"===event.type}),_on(plyr.controls,"mousedown mouseup touchstart touchend touchcancel",function(event){plyr.controls.pressed=_inArray(["mousedown","touchstart"],event.type)}),_on(plyr.controls,"focus blur",_toggleControls,!0)),_on(plyr.volume.input,"wheel",function(event){event.preventDefault();var inverted=event.webkitDirectionInvertedFromDevice,step=config.volumeStep/5;(event.deltaY<0||event.deltaX>0)&&(inverted?_decreaseVolume(step):_increaseVolume(step)),(event.deltaY>0||event.deltaX<0)&&(inverted?_increaseVolume(step):_decreaseVolume(step))})}function _mediaListeners(){if(_on(plyr.media,"timeupdate seeking",_timeUpdate),_on(plyr.media,"timeupdate",_seekManualCaptions),_on(plyr.media,"durationchange loadedmetadata",_displayDuration),_on(plyr.media,"ended",function(){"video"===plyr.type&&config.showPosterOnEnd&&("video"===plyr.type&&_setCaption(),_seek(),plyr.media.load())}),_on(plyr.media,"progress playing",_updateProgress),_on(plyr.media,"volumechange",_updateVolume),_on(plyr.media,"play pause ended",_checkPlaying),_on(plyr.media,"waiting canplay seeked",_checkLoading),config.clickToPlay&&"audio"!==plyr.type){var wrapper=_getElement("."+config.classes.videoWrapper);if(!wrapper)return;wrapper.style.cursor="pointer",_on(wrapper,"click",function(){config.hideControls&&plyr.browser.isTouch&&!plyr.media.paused||(plyr.media.paused?_play():plyr.media.ended?(_seek(),_play()):_pause())})}config.disableContextMenu&&_on(plyr.media,"contextmenu",function(event){event.preventDefault()}),_on(plyr.media,config.events.concat(["keyup","keydown"]).join(" "),function(event){_triggerEvent(plyr.container,event.type,!0)})}function _cancelRequests(){if(_inArray(config.types.html5,plyr.type)){for(var sources=plyr.media.querySelectorAll("source"),i=0;i<sources.length;i++)_remove(sources[i]);plyr.media.setAttribute("src",config.blankUrl),plyr.media.load(),_log("Cancelled network requests")}}function _destroy(callback,restore){function cleanUp(){clearTimeout(timers.cleanUp),_is.boolean(restore)||(restore=!0),_is.function(callback)&&callback.call(original),restore&&(plyr.init=!1,plyr.container.parentNode.replaceChild(original,plyr.container),document.body.style.overflow="",_triggerEvent(original,"destroyed",!0))}if(!plyr.init)return null;switch(plyr.type){case"youtube":window.clearInterval(timers.buffering),window.clearInterval(timers.playing),plyr.embed.destroy(),cleanUp();break;case"vimeo":plyr.embed.unload().then(cleanUp),timers.cleanUp=window.setTimeout(cleanUp,200);break;case"video":case"audio":_toggleNativeControls(!0),cleanUp()}}function _setupInterface(){if(!plyr.supported.full)return _warn("Basic support only",plyr.type),_remove(_getElement(config.selectors.controls.wrapper)),_remove(_getElement(config.selectors.buttons.play)),void _toggleNativeControls(!0);var controlsMissing=!_getElements(config.selectors.controls.wrapper).length;controlsMissing&&_injectControls(),_findElements()&&(controlsMissing&&_controlListeners(),_mediaListeners(),_toggleNativeControls(),_setupFullscreen(),_setupCaptions(),_setVolume(),_updateVolume(),_timeUpdate(),_checkPlaying())}function _ready(){window.setTimeout(function(){_triggerEvent(plyr.media,"ready")},0),_toggleClass(plyr.media,defaults.classes.setup,!0),_toggleClass(plyr.container,config.classes.ready,!0),plyr.media.plyr=api,config.autoplay&&_play()}var api,plyr=this,timers={};plyr.media=media;var original=media.cloneNode(!0),_log=function(){_console("log",arguments)},_warn=function(){_console("warn",arguments)};return _log("Config",config),api={getOriginal:function(){return original},getContainer:function(){return plyr.container},getEmbed:function(){return plyr.embed},getMedia:function(){return plyr.media},getType:function(){return plyr.type},getDuration:_getDuration,getCurrentTime:function(){return plyr.media.currentTime},getVolume:function(){return plyr.media.volume},isMuted:function(){return plyr.media.muted},isReady:function(){return _hasClass(plyr.container,config.classes.ready)},isLoading:function(){return _hasClass(plyr.container,config.classes.loading)},isPaused:function(){return plyr.media.paused},on:function(event,callback){return _on(plyr.container,event,callback),this},play:_play,pause:_pause,stop:function(){_pause(),_seek()},restart:_seek,rewind:_rewind,forward:_forward,seek:_seek,source:_source,poster:_updatePoster,setVolume:_setVolume,togglePlay:_togglePlay,toggleMute:_toggleMute,toggleCaptions:_toggleCaptions,toggleFullscreen:_toggleFullscreen,toggleControls:_toggleControls,isFullscreen:function(){return plyr.isFullscreen||!1},support:function(mimeType){return _supportMime(plyr,mimeType)},destroy:_destroy},function(){if(plyr.init)return null;if(fullscreen=_fullscreen(),plyr.browser=_browserSniff(),_is.htmlElement(plyr.media)){_setupStorage();var tagName=media.tagName.toLowerCase();"div"===tagName?(plyr.type=media.getAttribute("data-type"),plyr.embedId=media.getAttribute("data-video-id"),media.removeAttribute("data-type"),media.removeAttribute("data-video-id")):(plyr.type=tagName,config.crossorigin=null!==media.getAttribute("crossorigin"),config.autoplay=config.autoplay||null!==media.getAttribute("autoplay"),
config.loop=config.loop||null!==media.getAttribute("loop")),plyr.supported=supported(plyr.type),plyr.supported.basic&&(plyr.container=_wrap(media,document.createElement("div")),plyr.container.setAttribute("tabindex",0),_toggleStyleHook(),_log(plyr.browser.name+" "+plyr.browser.version),_setupMedia(),(_inArray(config.types.html5,plyr.type)||_inArray(config.types.embed,plyr.type)&&!plyr.supported.full)&&(_setupInterface(),_ready(),_setTitle()),plyr.init=!0)}}(),plyr.init?api:null}function loadSprite(url,id){var x=new XMLHttpRequest;if(!_is.string(id)||!_is.htmlElement(document.querySelector("#"+id))){var container=document.createElement("div");container.setAttribute("hidden",""),_is.string(id)&&container.setAttribute("id",id),document.body.insertBefore(container,document.body.childNodes[0]),"withCredentials"in x&&(x.open("GET",url,!0),x.onload=function(){container.innerHTML=x.responseText},x.send())}}function supported(type){var browser=_browserSniff(),isOldIE=browser.isIE&&browser.version<=9,isIos=browser.isIos,isIphone=browser.isIphone,audioSupport=!!document.createElement("audio").canPlayType,videoSupport=!!document.createElement("video").canPlayType,basic=!1,full=!1;switch(type){case"video":basic=videoSupport,full=basic&&!isOldIE&&!isIphone;break;case"audio":basic=audioSupport,full=basic&&!isOldIE;break;case"vimeo":basic=!0,full=!isOldIE&&!isIos;break;case"youtube":basic=!0,full=!isOldIE&&!isIos,isIos&&!isIphone&&browser.version>=10&&(full=!0);break;case"soundcloud":basic=!0,full=!isOldIE&&!isIphone;break;default:basic=audioSupport&&videoSupport,full=basic&&!isOldIE}return{basic:basic,full:full}}function setup(targets,options){function add(target,media){_hasClass(media,defaults.classes.hook)||players.push({target:target,media:media})}var players=[],instances=[],selector=[defaults.selectors.html5,defaults.selectors.embed].join(",");if(_is.string(targets)?targets=document.querySelectorAll(targets):_is.htmlElement(targets)?targets=[targets]:_is.nodeList(targets)||_is.array(targets)||_is.string(targets)||(_is.undefined(options)&&_is.object(targets)&&(options=targets),targets=document.querySelectorAll(selector)),_is.nodeList(targets)&&(targets=Array.prototype.slice.call(targets)),!supported().basic||!targets.length)return!1;for(var i=0;i<targets.length;i++){var target=targets[i],children=target.querySelectorAll(selector);if(children.length)for(var x=0;x<children.length;x++)add(target,children[x]);else _matches(target,selector)&&add(target,target)}return players.forEach(function(player){var element=player.target,media=player.media;var data={};try{data=JSON.parse(element.getAttribute("data-plyr"))}catch(e){}var config=_extend({},defaults,options,data);if(!config.enabled)return null;var instance=new Plyr(media,config);if(_is.object(instance)){if(config.debug){var events=config.events.concat(["setup","statechange","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled"]);_on(instance.getContainer(),events.join(" "),function(event){console.log([config.logPrefix,"event:",event.type].join(" "),event.detail.plyr)})}_event(instance.getContainer(),"setup",!0,{plyr:instance}),instances.push(instance)}}),instances}function get(container){if(_is.string(container)?container=document.querySelector(container):_is.undefined(container)&&(container=document.body),_is.htmlElement(container)){var elements=container.querySelectorAll("."+defaults.classes.setup),instances=[];return Array.prototype.slice.call(elements).forEach(function(element){_is.object(element.plyr)&&instances.push(element.plyr)}),instances}return[]}var fullscreen,scroll={x:0,y:0},defaults={enabled:!0,debug:!1,autoplay:!1,loop:!1,seekTime:10,volume:10,volumeMin:0,volumeMax:10,volumeStep:1,duration:null,displayDuration:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/2.0.12/plyr.svg",blankUrl:"https://cdn.selz.com/plyr/blank.mp4",clickToPlay:!0,hideControls:!0,showPosterOnEnd:!1,disableContextMenu:!0,keyboardShorcuts:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},selectors:{html5:"video, audio",embed:"[data-type]",editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{seek:'[data-plyr="seek"]',play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',forward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',fullscreen:'[data-plyr="fullscreen"]'},volume:{input:'[data-plyr="volume"]',display:".plyr__volume--display"},progress:{container:".plyr__progress",buffer:".plyr__progress--buffer",played:".plyr__progress--played"},captions:".plyr__captions",currentTime:".plyr__time--current",duration:".plyr__time--duration"},classes:{setup:"plyr--setup",ready:"plyr--ready",videoWrapper:"plyr__video-wrapper",embedWrapper:"plyr__video-embed",type:"plyr--{0}",stopped:"plyr--stopped",playing:"plyr--playing",muted:"plyr--muted",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",active:"plyr--fullscreen-active"},tabFocus:"tab-focus"},captions:{defaultActive:!1},fullscreen:{enabled:!0,fallback:!0,allowAudio:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","fullscreen"],i18n:{restart:"Restart",rewind:"Rewind {seektime} secs",play:"Play",pause:"Pause",forward:"Forward {seektime} secs",played:"played",buffered:"buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",toggleMute:"Toggle Mute",toggleCaptions:"Toggle Captions",toggleFullscreen:"Toggle Fullscreen",frameTitle:"Player for {title}"},types:{embed:["youtube","vimeo","soundcloud"],html5:["video","audio"]},urls:{vimeo:{api:"https://player.vimeo.com/api/player.js"},youtube:{api:"https://www.youtube.com/iframe_api"},soundcloud:{api:"https://w.soundcloud.com/player/api.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,forward:null,mute:null,volume:null,captions:null,fullscreen:null},events:["ready","ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied"],logPrefix:"[Plyr]"},_is={object:function(input){return null!==input&&"object"==typeof input},array:function(input){return null!==input&&"object"==typeof input&&input.constructor===Array},number:function(input){return null!==input&&("number"==typeof input&&!isNaN(input-0)||"object"==typeof input&&input.constructor===Number)},string:function(input){return null!==input&&("string"==typeof input||"object"==typeof input&&input.constructor===String)},boolean:function(input){return null!==input&&"boolean"==typeof input},nodeList:function(input){return null!==input&&input instanceof NodeList},htmlElement:function(input){return null!==input&&input instanceof HTMLElement},function:function(input){return null!==input&&"function"==typeof input},undefined:function(input){return null!==input&&void 0===input}},_storage={supported:function(){if(!("localStorage"in window))return!1;try{window.localStorage.setItem("___test","OK");var result=window.localStorage.getItem("___test");return window.localStorage.removeItem("___test"),"OK"===result}catch(e){return!1}return!1}()};return{setup:setup,supported:supported,loadSprite:loadSprite,get:get}}),function(){function CustomEvent(event,params){params=params||{bubbles:!1,cancelable:!1,detail:void 0};var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt}"function"!=typeof window.CustomEvent&&(CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent)}();var transitionEnd=whichTransitionEvent();!function(root,factory){"function"==typeof define&&define.amd?define([],factory(root)):"object"==typeof exports?module.exports=factory(root):root.smoothScroll=factory(root)}("undefined"!=typeof global?global:this.window||this.global,function(root){"use strict";var settings,eventTimeout,fixedHeader,headerHeight,animationInterval,smoothScroll={},supports="querySelector"in document&&"addEventListener"in root,defaults={selector:"[data-scroll]",selectorHeader:"[data-scroll-header]",speed:500,easing:"easeInOutCubic",offset:0,updateURL:!0,callback:function(){}},extend=function(){var extended={},deep=!1,i=0,length=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(deep=arguments[0],i++);for(;i<length;i++){var obj=arguments[i];!function(obj){for(var prop in obj)Object.prototype.hasOwnProperty.call(obj,prop)&&(deep&&"[object Object]"===Object.prototype.toString.call(obj[prop])?extended[prop]=extend(!0,extended[prop],obj[prop]):extended[prop]=obj[prop])}(obj)}return extended},getHeight=function(elem){return Math.max(elem.scrollHeight,elem.offsetHeight,elem.clientHeight)},getClosest=function(elem,selector){var attribute,value,firstChar=selector.charAt(0),supports="classList"in document.documentElement;for("["===firstChar&&(selector=selector.substr(1,selector.length-2),attribute=selector.split("="),attribute.length>1&&(value=!0,attribute[1]=attribute[1].replace(/"/g,"").replace(/'/g,"")));elem&&elem!==document;elem=elem.parentNode){if("."===firstChar)if(supports){if(elem.classList.contains(selector.substr(1)))return elem}else if(new RegExp("(^|\\s)"+selector.substr(1)+"(\\s|$)").test(elem.className))return elem;if("#"===firstChar&&elem.id===selector.substr(1))return elem;if("["===firstChar&&elem.hasAttribute(attribute[0])){if(!value)return elem;if(elem.getAttribute(attribute[0])===attribute[1])return elem}if(elem.tagName.toLowerCase()===selector)return elem}return null};smoothScroll.escapeCharacters=function(id){"#"===id.charAt(0)&&(id=id.substr(1));for(var codeUnit,string=String(id),length=string.length,index=-1,result="",firstCodeUnit=string.charCodeAt(0);++index<length;){if(0===(codeUnit=string.charCodeAt(index)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");codeUnit>=1&&codeUnit<=31||127==codeUnit||0===index&&codeUnit>=48&&codeUnit<=57||1===index&&codeUnit>=48&&codeUnit<=57&&45===firstCodeUnit?result+="\\"+codeUnit.toString(16)+" ":result+=codeUnit>=128||45===codeUnit||95===codeUnit||codeUnit>=48&&codeUnit<=57||codeUnit>=65&&codeUnit<=90||codeUnit>=97&&codeUnit<=122?string.charAt(index):"\\"+string.charAt(index)}return"#"+result};var easingPattern=function(type,time){var pattern;return"easeInQuad"===type&&(pattern=time*time),"easeOutQuad"===type&&(pattern=time*(2-time)),"easeInOutQuad"===type&&(pattern=time<.5?2*time*time:(4-2*time)*time-1),"easeInCubic"===type&&(pattern=time*time*time),"easeOutCubic"===type&&(pattern=--time*time*time+1),"easeInOutCubic"===type&&(pattern=time<.5?4*time*time*time:(time-1)*(2*time-2)*(2*time-2)+1),"easeInQuart"===type&&(pattern=time*time*time*time),"easeOutQuart"===type&&(pattern=1- --time*time*time*time),"easeInOutQuart"===type&&(pattern=time<.5?8*time*time*time*time:1-8*--time*time*time*time),"easeInQuint"===type&&(pattern=time*time*time*time*time),"easeOutQuint"===type&&(pattern=1+--time*time*time*time*time),"easeInOutQuint"===type&&(pattern=time<.5?16*time*time*time*time*time:1+16*--time*time*time*time*time),pattern||time},getEndLocation=function(anchor,headerHeight,offset){var location=0;if(anchor.offsetParent)do{location+=anchor.offsetTop,anchor=anchor.offsetParent}while(anchor);return location=location-headerHeight-offset,location>=0?location:0},getDocumentHeight=function(){return Math.max(root.document.body.scrollHeight,root.document.documentElement.scrollHeight,root.document.body.offsetHeight,root.document.documentElement.offsetHeight,root.document.body.clientHeight,root.document.documentElement.clientHeight)},getDataOptions=function(options){return options&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(options):{}},updateUrl=function(anchor,url){root.history.pushState&&(url||"true"===url)&&"file:"!==root.location.protocol&&root.history.pushState(null,null,[root.location.protocol,"//",root.location.host,root.location.pathname,root.location.search,anchor].join(""))},getHeaderHeight=function(header){return null===header?0:getHeight(header)+header.offsetTop};smoothScroll.animateScroll=function(anchor,toggle,options){var overrides=getDataOptions(toggle?toggle.getAttribute("data-options"):null),animateSettings=extend(settings||defaults,options||{},overrides),isNum="[object Number]"===Object.prototype.toString.call(anchor),anchorElem=isNum?null:"#"===anchor?root.document.documentElement:root.document.querySelector(anchor);if(isNum||anchorElem){var startLocation=root.pageYOffset;fixedHeader||(fixedHeader=root.document.querySelector(animateSettings.selectorHeader)),headerHeight||(headerHeight=getHeaderHeight(fixedHeader));var percentage,position,endLocation=isNum?anchor:getEndLocation(anchorElem,headerHeight,parseInt(animateSettings.offset,10)),distance=endLocation-startLocation,documentHeight=getDocumentHeight(),timeLapsed=0;isNum||updateUrl(anchor,animateSettings.updateURL);var stopAnimateScroll=function(position,endLocation,animationInterval){var currentLocation=root.pageYOffset;(position==endLocation||currentLocation==endLocation||root.innerHeight+currentLocation>=documentHeight)&&(clearInterval(animationInterval),isNum||anchorElem.focus(),animateSettings.callback(anchor,toggle))},loopAnimateScroll=function(){timeLapsed+=16,percentage=timeLapsed/parseInt(animateSettings.speed,10),percentage=percentage>1?1:percentage,position=startLocation+distance*easingPattern(animateSettings.easing,percentage),root.scrollTo(0,Math.floor(position)),stopAnimateScroll(position,endLocation,animationInterval)};0===root.pageYOffset&&root.scrollTo(0,0),function(){clearInterval(animationInterval),animationInterval=setInterval(loopAnimateScroll,16)}()}};var eventHandler=function(event){if(0===event.button&&!event.metaKey&&!event.ctrlKey){var toggle=getClosest(event.target,settings.selector);if(toggle&&"a"===toggle.tagName.toLowerCase()){event.preventDefault();var hash=smoothScroll.escapeCharacters(toggle.hash);smoothScroll.animateScroll(hash,toggle,settings)}}},eventThrottler=function(event){eventTimeout||(eventTimeout=setTimeout(function(){eventTimeout=null,headerHeight=getHeaderHeight(fixedHeader)},66))};return smoothScroll.destroy=function(){settings&&(root.document.removeEventListener("click",eventHandler,!1),root.removeEventListener("resize",eventThrottler,!1),settings=null,eventTimeout=null,fixedHeader=null,headerHeight=null,animationInterval=null)},smoothScroll.init=function(options){supports&&(smoothScroll.destroy(),settings=extend(defaults,options||{}),fixedHeader=root.document.querySelector(settings.selectorHeader),headerHeight=getHeaderHeight(fixedHeader),root.document.addEventListener("click",eventHandler,!1),fixedHeader&&root.addEventListener("resize",eventThrottler,!1))},smoothScroll});var domparents={findAncestorByClass:function(el,cls){for(;(el=el.parentElement)&&!el.classList.contains(cls););return el},findAncestorByElement:function(el,elname){for(;el=el.parentElement;)if(el.nodeName.toLowerCase()==elname.toLowerCase())return el;throw"no ancestor found with that element type. Try checking your DOM tree!"}},extend={object:function(out){out=out||{};for(var i=1;i<arguments.length;i++)if(arguments[i])for(var key in arguments[i])arguments[i].hasOwnProperty(key)&&(out[key]=arguments[i][key]);return out}},pageload={elements:{body:document.querySelector("body"),html:document.querySelector("html")},delay:null,setLoading:function(){pageload.elements.html.classList.remove("is-done-loading"),pageload.elements.html.classList.add("is-loading"),pageload.delay=window.setTimeout(pageload.showLoader,750)},showLoader:function(){pageload.elements.html.classList.add("show-loader")},setDoneLoading:function(callback){pageload.elements.html.classList.remove("is-loading"),pageload.elements.html.classList.remove("show-loader"),pageload.elements.html.classList.add("is-done-loading"),window.clearTimeout(pageload.delay)}},Alerts=function(){function onTimeoutNotification(element){var dismiss=element.querySelector("[data-dismiss]");clickevent=document.createEvent("HTMLEvents"),clickevent.initEvent("click",!0,!1),dismiss.dispatchEvent(clickevent)}function init(push_message){if("undefined"!=typeof LANG_MESSAGE_DISMISS&&(alertsettings.dismiss=LANG_MESSAGE_DISMISS),void 0!==push_message)for(var i=0;i<push_message.length;i++)Alerts.addMessage({status:push_message[i].status,content:push_message[i].text,timeout:push_message[i].timeout,type:push_message[i].type});var dismissbutton=document.querySelectorAll("[data-dismiss]");null!==dismissbutton&&Array.prototype.forEach.call(dismissbutton,function(el,i){el.addEventListener("click",Alerts.hideNotification,!1)})}function addMessage(options){var message_element;extend.object(alertoptions,options),message_element=document.createElement("div"),"bar"!==alertoptions.type&&void 0!==alertoptions.type||(message_element.className="alert alert--bar alert--"+alertoptions.status+" js-alert",message_element.setAttribute("data-element-type","bar"),message_element.innerHTML='<div class="alert__message">'+alertoptions.content+'</div><button type="button" class="alert__close" data-dismiss="alert" aria-hidden="true" role="presentation">&times;</button>',document.body.insertBefore(message_element,document.body.firstChild)),"modal"===alertoptions.type&&(backdrop_element=document.createElement("div"),backdrop_element.className="backdrop js-backdrop",message_element.className="alert alert--modal alert--"+alertoptions.status+" js-alert",message_element.setAttribute("data-element-type","modal"),message_element.innerHTML='<div class="alert__message">'+alertoptions.content+'</div><button class="button button--primary" data-dismiss="alert">'+alertsettings.dismiss+"</button>",document.body.appendChild(backdrop_element),document.body.appendChild(message_element)),this.showNotification(message_element),void 0!==alertoptions.timeout&&0!==alertoptions.timeout&&setTimeout(function(){onTimeoutNotification(message_element)},alertoptions.timeout)}function showNotification(element){var notification=element;if(setTimeout(function(){notification.classList.add("is-visible")},10),"modal"===alertoptions.type){var backdrops=document.querySelectorAll(".backdrop");Array.prototype.forEach.call(backdrops,function(el,i){el.classList.add("is-visible")})}}function hideNotification(event){var notification=event.target.parentNode;if(notification.classList.remove("is-visible"),notification.classList.remove("is-hidden"),"modal"===alertoptions.type){var backdrop=document.querySelector(".backdrop");backdrop.classList.remove("is-visible"),backdrop.classList.add("is-hiding")}var notificationHasTransformSet=null,notificationHasWebkitTransformSet=null;return window.getComputedStyle&&(notificationHasTransformSet=window.getComputedStyle(notification,null).getPropertyValue("transform"),notificationHasWebkitTransformSet=window.getComputedStyle(notification,null).getPropertyValue("-webkit-transform")),Modernizr.csstransitions&&"none"!==notificationHasTransformSet&&"none"!==notificationHasWebkitTransformSet?notification.addEventListener(transitionEnd,function(){Alerts.removeNotificationElements(this)},!1):Alerts.removeNotificationElements(notification),!1}function removeNotificationElements(element){var elementtype=element.getAttribute("data-element-type");if(element.parentNode.removeChild(element),"modal"===elementtype){var backdrop=document.querySelector(".backdrop");backdrop.parentNode.removeChild(backdrop)}}var alertsettings={dismiss:"Dismiss"},alertoptions={type:"bar"};return{addMessage:addMessage,showNotification:showNotification,hideNotification:hideNotification,removeNotificationElements:removeNotificationElements,init:init}}(),Expand=function(){function toggle(event){event.preventDefault();var button=event.target,targetid=button.getAttribute("href"),cookieid=targetid.substring(1),target=document.querySelector(targetid),expandparent=target.parentNode;expandparent.classList.contains("is-closed")?(button.classList.add("is-active"),expandparent.classList.remove("is-closed"),expandparent.classList.add("is-open"),enhance.cookie(cookieid,"open")):(button.classList.remove("is-active"),expandparent.classList.remove("is-open"),expandparent.classList.add("is-closed"),enhance.cookie(cookieid,!1))}function init(){var expanders=document.querySelectorAll(".js-expandtarget");for(i=0;i<expanders.length;i++){var expanderid=expanders[i].getAttribute("id");enhance.cookie(expanderid)?(expanders[i].parentNode.classList.add("is-open"),expanders[i].parentNode.querySelector(".js-expandbutton").classList.add("is-active")):expanders[i].parentNode.classList.add("is-closed")}var expandbuttons=document.querySelectorAll(".js-expandbutton");for(i=0;i<expandbuttons.length;i++)expandbuttons[i].addEventListener("click",Expand.toggle,!1)}return{toggle:toggle,init:init}}(),FontObserverHandler=function(){function init(){if(!(document.documentElement.className.indexOf("fonts-loaded")>-1)){var fontObservers=[],fontFamilies={Graphik:[{weight:400}]};Object.keys(fontFamilies).forEach(function(family){fontObservers.push(fontFamilies[family].map(function(config){return new FontFaceObserver(family,config).load()}))}),Promise.all(fontObservers).then(function(){document.documentElement.className+=" fonts-loaded",enhance.cookie("fonts-loaded","true",7)},function(){console.info("Web fonts could not be loaded in time. Falling back to system fonts.")})}}return{init:init}}(),Homecarousel=function(){function gotoslide(slider,currentslide,nextslide,targetindex){currentslide.classList.remove("is-active"),currentslide.classList.add("is-inactive"),nextslide.classList.remove("is-inactive"),nextslide.classList.add("is-active")}function getNodeIndex(node){for(var index=0;node=node.previousSibling;)3===node.nodeType&&/^\s*$/.test(node.data)||index++;return index}function nextslide(){var slider=hcelements.carousels[0],slides=slider.querySelectorAll(".js-homecarousel-slide"),currentindex=hcstates.current,currentslide=slides[currentindex],nextslide=currentslide.nextElementSibling;null===nextslide&&(nextslide=slides[0]);var targetindex=getNodeIndex(nextslide);hcstates.current=targetindex,gotoslide(slider,currentslide,nextslide,targetindex)}function addEventHandlers(){}function startTimer(){hctimer=window.setInterval(nextslide,hcsettings.interval)}function init(){for(i=0;i<hcelements.carousels.length;i++){addEventHandlers(hcelements.carousels[i]);var slides=hcelements.carousels[0].querySelectorAll(".js-homecarousel-slide");for(i=0;i<slides.length;i++)0===i?slides[i].classList.add("is-active"):slides[i].classList.add("is-inactive");startTimer()}}var hcelements={carousels:document.querySelectorAll(".js-homecarousel")},hcstates={current:0,activeshift:!1},hcsettings={interval:4500},hctimer=null;return{init:init}}(),Pagetransition=function(){function setDir(direction){return enhance.cookie("dir",direction,1)}function getDir(){return enhance.cookie("dir")}function removeDir(){enhance.cookie("dir",!1)}function gotoProject(event){event.preventDefault();var body=document.querySelector("body"),link=event.target;null===event.target.getAttribute("href")&&(link=domparents.findAncestorByElement(event.target,"a")),body.addEventListener(transitionEnd,function endTransitionGoProject(){setDir("up"),this.removeEventListener(transitionEnd,endTransitionGoProject,!1),window.location.href=link.getAttribute("href")},!1),body.classList.add("anim-toproject")}function gotoAbout(event){event.preventDefault();var body=document.querySelector("body");body.addEventListener(transitionEnd,function endTransitionGoProject(){setDir("about"),this.removeEventListener(transitionEnd,endTransitionGoProject,!1),window.location.href=event.target.getAttribute("href")},!1),body.classList.add("anim-out"),body.classList.add("anim-out--about")}function gotoWork(event){event.preventDefault();var body=document.querySelector("body"),html=document.querySelector("html");body.addEventListener(transitionEnd,function endTransitionGoProject(){setDir("work"),this.removeEventListener(transitionEnd,endTransitionGoProject,!1),window.location.href=event.target.getAttribute("href")},!1),body.classList.add("class","anim-out"),body.classList.add("anim-out--work"),html.classList.add("anim-to-white")}function cleanUpBodyClass(){var body=document.querySelector("body"),dirtyclasses=body.getAttribute("class"),regex=/ *\b\S*?anim-\S*\b/g;cleanclasses=dirtyclasses.replace(regex,""),body.setAttribute("class",cleanclasses)}function init(){pageload.setLoading();var body=document.querySelector("body"),html=document.querySelector("html");null!==getDir()?(html.style.overflow="hidden",body.addEventListener(transitionEnd,function endTransitionBody(){setTimeout(function(){html.style.overflow="auto",cleanUpBodyClass()},50),this.removeEventListener(transitionEnd,endTransitionBody,!1)},!1),body.classList.add("anim-in"),body.classList.add("anim-prep--"+getDir()),setTimeout(function(){body.classList.add("anim-in--"+getDir()),pageload.setDoneLoading(),removeDir()},50)):(body.classList.add("anim-in"),setTimeout(function(){body.classList.add("anim-in--fade"),pageload.setDoneLoading()},50));var gotolinks=document.querySelectorAll(".js-goto-project");for(i=0;i<gotolinks.length;i++)gotolinks[i].addEventListener("click",gotoProject);var aboutlinks=document.querySelectorAll(".js-goto-about");for(i=0;i<aboutlinks.length;i++)aboutlinks[i].addEventListener("click",gotoAbout);var worklinks=document.querySelectorAll(".js-goto-work");for(i=0;i<worklinks.length;i++)worklinks[i].addEventListener("click",gotoWork);window.onpageshow=function(event){event.persisted&&window.location.reload()}}return{init:init}}(),Moreinfo=function(){function toggle(event){event.preventDefault();var button=event.target,targetid=button.getAttribute("href"),target=document.querySelector(targetid);target.classList.contains("is-closed")?(button.classList.add("is-active"),button.textContent="Show less",target.classList.remove("is-closed"),target.classList.add("is-open")):(button.classList.remove("is-active"),button.textContent="Read full story",target.classList.remove("is-open"),target.classList.add("is-closed"))}function handleButton(button){button.addEventListener("click",toggle,!1)}function init(){var infocontent,infobutton,infoid,infocontainers=document.querySelectorAll(".js-moreinfo");for(i=0;i<infocontainers.length;i++)infoid=i+1,infocontent=infocontainers[i].querySelector(".js-moreinfo-content"),infocontent.classList.add("is-closed"),infocontent.setAttribute("id","moreinfo-"+infoid),infobutton=document.createElement("a"),infobutton.classList.add("link"),infobutton.setAttribute("href","#moreinfo-"+infoid),infobutton.textContent="Read full story",infocontainers[i].appendChild(infobutton),handleButton(infobutton)}return{toggle:toggle,init:init}}(),Popup=function(){function init(){for(var popuplinks=document.querySelectorAll(".js-popup"),i=0;i<popuplinks.length;i++)null!==popuplinks[i]&&popuplinks[i].addEventListener("click",Popup.openWindow,!1)}function openWindow(event){var url=event.currentTarget.getAttribute("href");window.open(url,"popupwin","height=400,width=650,resizable=1,toolbar=0,menubar=0,status=0,location=0,scrollbars=1"),event.preventDefault()}return{openWindow:openWindow,init:init}}();domready(function(){Homecarousel.init(),Expand.init(),FontObserverHandler.init(),Pagetransition.init(),Moreinfo.init(),Popup.init(),smoothScroll.init();var banner=document.querySelector(".js-banner");if(void 0!==banner&&null!==banner){new Headroom(banner).init(),document.querySelector("body").classList.add("has-headroom")}plyr.setup(".js-plyr-video",{loadSprite:!1,iconUrl:"/assets/stylesheets/img/plyr.svg"});var slider=document.querySelector(".js-people");if(void 0!==slider&&null!==slider){new Flickity(slider,{cellSelector:".person",cellAlign:document.documentElement.clientWidth>767?"left":"center",wrapAround:!0,pageDots:!1,imagesLoaded:!0,freeScroll:!0})}});